(function(e){e.console||(e.console={});e=e.console;for(var f,d=function(){},b=["memory"],a="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");f=b.pop();)e[f]||(e[f]={});for(;f=a.pop();)e[f]||(e[f]=d);f=f=d=b=a=null})("undefined"!==typeof window?window:this);
(function(e,f){var d={create:function(b,a,c,g){var k=this;k.dataAttributeHighresName=c||"highres";k.dataAttributeLowresName=g||"lowres";d.resize(b.children);b.classList.remove("loading");b.addEventListener("click",function(){k.children&&0<k.children.length&&d.shrink(k.children[0])});for(c=0;c<b.children.length;c++)b.children[c].addEventListener("click",d.animate);a&&d.keys(b)},keys:function(b){var a=function(a){if(!a.defaultPrevented){var g=b||f.getElementsByClassName("zoomwall lightbox")[0];if(g)switch(a.keyCode){case 27:g.children&&
0<g.children.length&&d.shrink(g.children[0]);a.preventDefault();break;case 37:d.page(g,!1);a.preventDefault();break;case 39:d.page(g,!0),a.preventDefault()}}};f.addEventListener("keydown",a);return a},resizeRow:function(b,a){if(b&&1<b.length)for(var c in b)b.hasOwnProperty(c)&&(b[c].style.width=parseInt(e.getComputedStyle(b[c]).width,10)/a*100+"%",b[c].style.height="auto")},calcRowWidth:function(b){var a=0,c;for(c in b)b.hasOwnProperty(c)&&(a+=parseInt(e.getComputedStyle(b[c]).width,10));return a},
resize:function(b){for(var a=[],c=-1,g=0;g<b.length;g++){var k=b[g];k&&(-1==c?c=k.offsetTop:k.offsetTop!=c&&(d.resizeRow(a,d.calcRowWidth(a)),a=[],c=k.offsetTop),a.push(k))}d.resizeRow(a,d.calcRowWidth(a))},reset:function(b){b.style.transform="translate(0, 0) scale(1)";b.style.webkitTransform="translate(0, 0) scale(1)";b.classList.remove("active")},shrink:function(b){b.parentNode.classList.remove("lightbox");d.reset(b);for(var a=b.previousElementSibling;a;)d.reset(a),a=a.previousElementSibling;for(a=
b.nextElementSibling;a;)d.reset(a),a=a.nextElementSibling;b.dataset.lowres&&(b.src=b.dataset.lowres)},expand:function(b){b.classList.add("active");b.parentNode.classList.add("lightbox");var a=e.getComputedStyle(b.parentNode),c=parseInt(a.width,10),g=parseInt(a.height,10),k=b.parentNode.getBoundingClientRect().top,a=e.getComputedStyle(b),l=parseInt(a.width,10),f=parseInt(a.height,10),d=e.innerHeight;g<e.innerHeight?d=g:0<k&&(d-=k);b.dataset[this.dataAttributeHighresName]&&(b.src!=b.dataset[this.dataAttributeHighresName]&&
void 0===b.dataset[this.dataAttributeLowresName]&&(b.dataset[this.dataAttributeLowresName]=b.src),b.src=b.dataset[this.dataAttributeHighresName]);var h=[];h.push(b);for(a=b.nextElementSibling;a&&a.offsetTop==b.offsetTop;)h.push(a),a=a.nextElementSibling;for(a=b.previousElementSibling;a&&a.offsetTop==b.offsetTop;)h.unshift(a),a=a.previousElementSibling;a=d/f;l*a>c&&(a=c/l);var m=k-b.parentNode.offsetTop+b.offsetTop;if(g<e.innerHeight||f*a<g)m-=d/2-f*a/2;0<k&&(m-=k);for(g=k=0;g<h.length&&h[g]!=b;g++)k+=
parseInt(e.getComputedStyle(h[g]).width,10)*a;k=c/2-l*a/2-k;g=0;for(d=h.length-1;0<=d&&h[d]!=b;d--)g+=parseInt(e.getComputedStyle(h[d]).width,10)*a;g=c/2-l*a/2-g;for(l=c=b=0;l<h.length;l++){b+=c*a-c;var c=parseInt(e.getComputedStyle(h[l]).width,10),d=(b+k)/c*100,n=-m/parseInt(e.getComputedStyle(h[l]).height,10)*100;h[l].style.transformOrigin="0% 0%";h[l].style.webkitTransformOrigin="0% 0%";h[l].style.transform="translate("+d.toFixed(8)+"%, "+n.toFixed(8)+"%) scale("+a.toFixed(8)+")";h[l].style.webkitTransform=
"translate("+d.toFixed(8)+"%, "+n.toFixed(8)+"%) scale("+a.toFixed(8)+")"}for(var f=f*(a-1)-m,p,c=b=0,l=h[h.length-1].nextElementSibling,d=-1;l;){n=l.offsetTop;n==d?b+=c*a-c:(-1!=d&&(b=0,f+=p*(a-1)),d=n);c=parseInt(e.getComputedStyle(l).width,10);p=parseInt(e.getComputedStyle(l).height,10);var n=(b+k)/c*100,q=f/p*100;l.style.transformOrigin="0% 0%";l.style.webkitTransformOrigin="0% 0%";l.style.transform="translate("+n.toFixed(8)+"%, "+q.toFixed(8)+"%) scale("+a.toFixed(8)+")";l.style.webkitTransform=
"translate("+n.toFixed(8)+"%, "+q.toFixed(8)+"%) scale("+a.toFixed(8)+")";l=l.nextElementSibling}p=-m;c=b=0;h=h[0].previousElementSibling;for(m=-1;h;)k=h.offsetTop,k==m?b-=c*a-c:(b=0,p-=parseInt(e.getComputedStyle(h).height,10)*(a-1),m=k),c=parseInt(e.getComputedStyle(h).width,10),k=(b-g)/c*100,f=p/parseInt(e.getComputedStyle(h).height,10)*100,h.style.transformOrigin="100% 0%",h.style.webkitTransformOrigin="100% 0%",h.style.transform="translate("+k.toFixed(8)+"%, "+f.toFixed(8)+"%) scale("+a.toFixed(8)+
")",h.style.webkitTransform="translate("+k.toFixed(8)+"%, "+f.toFixed(8)+"%) scale("+a.toFixed(8)+")",h=h.previousElementSibling},animate:function(b){if(this.classList.contains("active"))d.shrink(this);else{for(var a=this.parentNode.getElementsByClassName("active"),c=0;c<a.length;c++)a[c].classList.remove("active");d.expand(this)}b.stopPropagation()},page:function(b,a){var c=b.getElementsByClassName("active");if(c&&0<c.length){var c=c[0],g;if(g=a?c.nextElementSibling:c.previousElementSibling)c.classList.remove("active"),
c.dataset.lowres&&(c.src=c.dataset.lowres),d.expand(g)}}};e.zoomwall=d})("undefined"!==typeof window?window:this,document);
(function(e,f){e.echo=function(d,b,a){d=d||"data-src-img";b=b||"src";a=a||100;var c=function(a){this.elem=a;this.render();this.listen()},g=f.documentElement.classList.contains("is-binded-echo")||"",k=[],l=function(){for(var a=0;a<k.length;a++){var c=k[a],d=c.getBoundingClientRect();if((0<=d.top&&0<=d.left&&d.top)<=(e.innerHeight||f.documentElement.clientHeight)){var d=c,l=a;-1!==k.indexOf(c)&&k.splice(l,1);d.src=d.dataset[b]||d.getAttribute("data-"+b)}}},r=function(a,b){function c(){g=0;f=+new Date;
k=a.apply(d,l);l=d=null}var d,l,k,g,f=0;return function(){d=this;l=arguments;var a=new Date-f;g||(a>=b?c():g=setTimeout(c,b-a));return k}}(l,a),t=function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});e.addEventListener("test",function(){},b)}catch(c){}return a}();c.prototype={init:function(){k.push(this.elem)},render:function(){l()},listen:function(){g||(e.addEventListener("scroll",r,t?{passive:!0}:!1),f.documentElement.classList.add("is-binded-echo"))}};
var h=f.getElementsByClassName(d)||"";h&&function(){for(var a=0;a<h.length;a++)(new c(h[a])).init()}()}})("undefined"!==typeof window?window:this,document);(function(e,f){e.doesFontExist=function(d){var b=f.createElement("canvas").getContext("2d");b.font="72px monospace";var a=b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width;b.font="72px '"+d+"', monospace";return b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width==a?!1:!0}})("undefined"!==typeof window?window:this,document);
(function(e,f){e.loadJsCss=function(d,b){var a=this;a.files=d;a.js=[];a.head=f.getElementsByTagName("head")[0]||"";a.body=f.body||"";a.ref=f.getElementsByTagName("script")[0]||"";a.callback=b||function(){};a.loadStyle=function(b){var c=f.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=b;a.head.appendChild(c)};a.loadScript=function(b){var c=f.createElement("script");c.type="text/javascript";c.async=!0;c.src=a.js[b];c.onload=function(){++b<a.js.length?a.loadScript(b):a.callback()};
a.head.appendChild(c);a.ref.parentNode?a.ref.parentNode.insertBefore(c,a.ref):(a.body||a.head).appendChild(c)};var c,g;c=0;for(g=a.files.length;c<g;c+=1)/\.js$|\.js\?/.test(a.files[c])&&a.js.push(a.files[c]),/\.css$|\.css\?|\/css\?/.test(a.files[c])&&a.loadStyle(a.files[c]);c=g=null;0<a.js.length?a.loadScript(0):a.callback()}})("undefined"!==typeof window?window:this,document);
(function(e,f){var d=function(){var a=f.getElementById("zoomwall")||"",b=new Headers;fetch("./libs/picturewall/json/zoomwall.json",{headers:b,credentials:"same-origin"}).then(function(a){if(a.ok)return a.text();throw Error("cannot fetch","./libs/picturewall/json/zoomwall.json");}).then(function(b){(new Promise(function(d,g){var e;try{e=JSON.parse(b);if(!e[0].highres)throw Error("incomplete JSON data: no highres");if(!e[0].src)throw Error("incomplete JSON data: no src");}catch(p){console.log("cannot init generateGallery",
p);return}var h=f.createDocumentFragment(),m;for(m in e)if(e.hasOwnProperty(m)&&e[m].src&&e[m].highres){var n=f.createElement("img");/^([0-9]+)(\x|\ )([0-9]+)$/.test(e[m].src)?n.src=["data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%20",e[m].src.replace("x","%20"),"%27%2F%3E"].join(""):n.src=e[m].src;n.dataset.highres=e[m].highres;n.classList.add("data-src-img");h.appendChild(n);h.appendChild(f.createTextNode("\n"))}a.appendChild(h)?
d():g()})).then(function(a){return a}).then(function(b){var d;d=setTimeout(function(){clearTimeout(d);d=null;a&&zoomwall.create(a,!0,"highres")},200)}).then(function(a){var b;b=setTimeout(function(){clearTimeout(b);b=null;echo("data-src-img","highres")},200)})["catch"](function(a){console.log("Cannot create zoomwall gallery",a)})})["catch"](function(a){console.log("cannot parse","./libs/picturewall/json/zoomwall.json")})},b=["./libs/picturewall/css/bundle.min.css"],a=function(a){var b=e.location.protocol||
"";return"http:"===b?"http":"https:"===b?"https":a?"http":""}(!0);"classList"in f.createElement("_")||b.push(a+"://cdn.jsdelivr.net/npm/classlist.js@1.1.20150312/classList.min.js");"undefined"!==typeof e.Element&&"dataset"in f.documentElement||b.push(a+"://cdn.jsdelivr.net/npm/element-dataset@2.2.6/lib/browser/index.cjs.min.js");(function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});e.addEventListener("test",function(){},b)}catch(d){}return a})()||
b.push(a+"://cdnjs.cloudflare.com/ajax/libs/dom4/1.8.3/dom4.js");e.Promise||b.push(a+"://cdn.jsdelivr.net/es6-promise-polyfill/1.2.0/promise.min.js");e.fetch||b.push(a+"://cdn.jsdelivr.net/fetch/2.0.1/fetch.min.js");new loadJsCss([a+"://fonts.googleapis.com/css?family=Roboto:400&subset=cyrillic"],function(){var a;(function(){var a=f.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))})();a=setInterval(function(){doesFontExist("Roboto")&&(clearInterval(a),a=null,new loadJsCss(b,d))},
100)})})("undefined"!==typeof window?window:this,document);
//# sourceMappingURL=bundle.min.js.map
