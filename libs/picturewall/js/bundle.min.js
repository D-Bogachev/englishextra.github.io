(function(a){a.console||(a.console={});a=a.console;var c,g=function(){},e=["memory"],d=["assert,clear,count,debug,dir,dirxml,error,exception,group,","groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,","show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn"];for(d.join("").split(",");c=e.pop();)a[c]||(a[c]={});for(;c=d.pop();)a[c]||(a[c]=g);c=c=g=e=d=null})("undefined"!==typeof window?window:this);
(function(a,c,g){var e=function(){var a=function(){function b(a,d){this.progress=0;this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2};if(a&&"object"===typeof a)for(var b in a)a.hasOwnProperty(b)&&(this.options[b]=a[b]);this.options.opacityDuration=3*this.options.duration;this.progressBar=c.createElement("div");this.progressBar.id=this.options.id;this.progressBar.setCSS=function(c){for(var a in c)c.hasOwnProperty(a)&&(this.style[a]=c[a])};this.progressBar.setCSS({position:d?
"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","z-index":this.options.zIndex});if(d){var e;-1!==d.indexOf("#",0)?e=c.getElementById(d)||"":-1!==
d.indexOf(".",0)&&(e=c.getElementsByClassName(d)[0]||"");e&&(e.hasChildNodes()?e.insertBefore(this.progressBar,e.firstChild):e.appendChild(this.progressBar))}else c.body.appendChild(this.progressBar)}var e=function(){var a,d=c.createElement("fakeelement"),b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in b)if(b.hasOwnProperty(a)&&d.style[a]!==g)return b[a]}();b.prototype.transit=function(){this.progressBar.style.width=
this.progress+"%"};b.prototype.getProgress=function(){return this.progress};b.prototype.setProgress=function(a,c){this.show();this.progress=100<a?100:0>a?0:a;this.transit();c&&c()};b.prototype.increase=function(a,c){this.show();this.setProgress(this.progress+a,c)};b.prototype.decrease=function(a,c){this.show();this.setProgress(this.progress-a,c)};b.prototype.finish=function(c){var b=this;this.setProgress(100,c);this.hide();e&&this.progressBar.addEventListener(e,function(c){b.reset();b.progressBar.removeEventListener(c.type,
a)})};b.prototype.reset=function(c){this.progress=0;this.transit();c&&c()};b.prototype.hide=function(){this.progressBar.style.opacity="0"};b.prototype.show=function(){this.progressBar.style.opacity="1"};return b};return a()}();a.ToProgress=e})("undefined"!==typeof window?window:this,document);
(function(a,c){a.doesFontExist=function(a){var e=c.createElement("canvas").getContext("2d");e.font="72px monospace";var d=e.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width;e.font="72px '"+a+"', monospace";return e.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width===d?!1:!0}})("undefined"!==typeof window?window:this,document);
(function(a,c){a.loadCSS=function(a,e){var d=c.getElementsByTagName("head")[0]||"",b=c.createElement("link");b.rel="stylesheet";b.href=a;b.media="all";if(d)return d.appendChild(b),e&&"function"===typeof e&&(b.onload=e),b}})("undefined"!==typeof window?window:this,document);
(function(a,c){a.loadJsCss=function(a,e){var d=this;d.files=a;d.js=[];d.head=c.getElementsByTagName("head")[0]||"";d.body=c.body||"";d.ref=c.getElementsByTagName("script")[0]||"";d.callback=e||function(){};d.loadStyle=function(a){var b=c.createElement("link");b.rel="stylesheet";b.type="text/css";b.href=a;d.head.appendChild(b)};d.loadScript=function(a){var b=c.createElement("script");b.type="text/javascript";b.async=!0;b.src=d.js[a];b.onload=function(){++a<d.js.length?d.loadScript(a):d.callback()};
d.head.appendChild(b);d.ref.parentNode?d.ref.parentNode.insertBefore(b,d.ref):(d.body||d.head).appendChild(b)};var b,r;b=0;for(r=d.files.length;b<r;b+=1)/\.js$|\.js\?/.test(d.files[b])&&d.js.push(d.files[b]),/\.css$|\.css\?|\/css\?/.test(d.files[b])&&d.loadStyle(d.files[b]);b=r=null;0<d.js.length?d.loadScript(0):d.callback()}})("undefined"!==typeof window?window:this,document);
(function(a,c){var g=c.documentElement||"",e=new ToProgress({id:"top-progress-bar",color:"#FF2C40",height:"0.200rem",duration:.2,zIndex:999});e.increase(20);var d="ontouchstart"in g||"",b="onwheel"in c.createElement("div")||void 0!==c.onmousewheel||"",r=function(c){var b=a.location.protocol||"";return"http:"===b?"http":"https:"===b?"https":c?"http":""},z=r(!0),A=function(){e.increase(20);g&&g.classList&&(g.classList.remove("no-js"),g.classList.add("js"));var m=c.getElementsByClassName("zoomwall")[0]||
"";(function(l){l=l&&l.nodeName?l:"";var a,c=function(l){for(var c=0,n=l.length;c<n;c+=1){var b=l[c];console.log("mutations observer: "+b.type);console.log(b.type,"target: "+b.target.tagName+("."+b.target.className||"#"+b.target.id||""));console.log(b.type,"added: "+b.addedNodes.length+" nodes");console.log(b.type,"removed: "+b.removedNodes.length+" nodes");if("childList"===b.type||"subtree"===b.type)a.disconnect(),e.finish(),e.hide()}};l&&(a=new MutationObserver(c),a.observe(l,{childList:!0,subtree:!0,
attributes:!1,characterData:!1}))})(m);var B=function(l,b){var n=b||"";return function(){var b=function(l){return l.replace(/^(#|\?)/,"").replace(/\:$/,"")},v=location||"",d=0===l.indexOf("//")||!!~l.indexOf("://"),e=a.location||"",f=function(){return e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")||""},h=c.createElement("a");h.href=l;var g=h.href,m=f(),p=h.host||v.host,k;if("0"===h.port||""===h.port)a:switch(h.protocol){case "http:":k=n?":80":80;break a;case "https:":k=n?":443":443;break a;default:k=
n?":"+v.port:v.port}else k=n?h.port:b(h.port);return{href:g,origin:m,host:p,port:k,hash:n?h.hash:b(h.hash),hostname:h.hostname||v.hostname,pathname:"/"!==h.pathname.charAt(0)?n?"/"+h.pathname:h.pathname:n?h.pathname:h.pathname.slice(1),protocol:h.protocol&&":"!==h.protocol?n?h.protocol:b(h.protocol):n?v.protocol:b(v.protocol),search:n?h.search:b(h.search),query:n?h.search:b(h.search),isAbsolute:d,isRelative:!d,isCrossDomain:function(){var a=c.createElement("a");a.href=l;return a.protocol+"//"+a.hostname+
(a.port?":"+a.port:"")!==f()}(),hasHTTP:/^(http|https):\/\//i.test(l)?!0:!1}}()},f="undefined"!==typeof process&&"undefined"!==typeof require||"",u="undefined"!==typeof a&&a.process&&"renderer"===a.process.type||"",x;a:{if("undefined"!==typeof f&&f)try{if("undefined"!==typeof require("nw.gui")){x=!0;break a}}catch(l){}x=!1}var A=function(l){var c=function(){var a=u?require("electron").shell:"";return a?a.openExternal(l):""},b=function(){var a=x?require("nw.gui").Shell:"";return a?a.openExternal(l):
""};u?c():x?b():(c=a.location.protocol||"",(!c||"http:"!==c&&"https:"!==c)&&a.open(l,"_system","scrollbars=1,location=no"))},D=function(a,c){var b,d,e,f;return function(){e=this;d=[].slice.call(arguments,0);f=new Date;var K=function(){var g=new Date-f;g<c?b=setTimeout(K,c-g):(b=null,a.apply(e,d))};b||(b=setTimeout(K,c))}},L=c.getElementsByClassName("wrapper")[0]||"";(function(a){a=(a=a&&a.nodeName?a:"")?a.getElementsByTagName("a")||"":c.getElementsByTagName("a")||"";var b=function(a){var c=function(a,
c){c.stopPropagation();c.preventDefault();var b=A.bind(null,a);D(b,200)()};if(!a.classList.contains("is-binded")&&!a.target&&!a.rel){var b=a.getAttribute("href")||"";b&&B(b).isCrossDomain&&B(b).hasHTTP&&(a.title=""+(B(b).hostname||"")+" откроется в новой вкладке","undefined"!==typeof r&&r()?(a.target="_blank",a.rel="noopener"):a.addEventListener("click",c.bind(null,b)),a.classList.add("is-binded"))}};if(a){var n,d;n=0;for(d=a.length;n<d;n+=1)b(a[n]);n=d=null}})(L);var w=c.title||"",f=navigator.userAgent||
"",p=function(){var a=new Date,c=a.getDate(),b=a.getFullYear(),a=a.getMonth(),a=a+1;10>c&&(c="0"+c);10>a&&(a="0"+a);return b+"-"+a+"-"+c}(),q="";f&&a.platform&&(q=platform.description||"",c.title=w+" ["+(p?" "+p:"")+(q?" "+q:"")+(d||b?" with":"")+(d?" touch":"")+(d&&b?",":"")+(b?" mousewheel":"")+"]");var C=function(a,b,d){b=c.getElementById(b)||"";d=c.getElementById(d)||"";return(a=-1!==["boolean","number","string","symbol","function"].indexOf(typeof a)?JSON.parse(a):a)&&b&&d?(new t(b.innerHTML||
"")).render(a):{}},U=function(a,b,d){var e=c.body||"",f=function(){return d&&"function"===typeof d&&d()};try{var g=b.cloneNode(!1);if(c.createRange){var m=c.createRange();m.selectNode(e);var k=m.createContextualFragment(a);g.appendChild(k);return b.parentNode?b.parentNode.replaceChild(g,b):b.innerHTML=a,f()}g.innerHTML=a;return b.parentNode?b.parentNode.replaceChild(c.createDocumentFragment.appendChild(g),b):b.innerHTML=a,f()}catch(h){console.log(h)}},V=function(a,b,d,e,f){f=f||"";var g=c.getElementById(b)||
"",m=c.getElementById(d)||"",k=function(){return e&&"function"===typeof e&&e()};a&&g&&m&&(a=C(a,b,d),f?(m.innerHTML=a,k()):U(a,m,k))},W=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&++b;return b},X=function(a){return new Promise(function(b,c){var d;try{if(d=JSON.parse(a),d.pages[0].src)if(d.pages[0].width){if(!d.pages[0].height)throw Error("incomplete JSON data: no height");if(!d.pages[0].title)throw Error("incomplete JSON data: no title");}else throw Error("incomplete JSON data: no width");
else throw Error("incomplete JSON data: no src");}catch(e){console.log("cannot init generateGallery",e);return}var f=W(d.pages);V(d,"template_zoomwall","target_zoomwall",function(){L.getElementsByClassName("data-src-img")[f-1]?b():c()},!0)})},E,Y=function(){clearTimeout(E);E=null;zoomwall.create(m,!0,"src",null,function(){m.style.visibility="visible";m.style.opacity=1})},F,Z=function(){clearTimeout(F);F=null;echo("data-src-img","src")},f=new Headers;fetch("./libs/contents-cards/json/contents.json",
{headers:f,credentials:"same-origin"}).then(function(a){if(a.ok)return a.text();throw Error("cannot fetch","./libs/contents-cards/json/contents.json");}).then(function(a){X(a).then(function(a){return a}).then(function(){E=setTimeout(Y,200)}).then(function(){F=setTimeout(Z,200)})["catch"](function(a){console.log("Cannot create zoomwall gallery",a)})})["catch"](function(a){console.log("cannot parse","./libs/contents-cards/json/contents.json",a)});var M=a.location.href||"",N=function(a){var b,d,e;b=
c.getElementsByTagName("script")||"";d=0;for(e=b.length;d<e;d+=1)if(b[d].getAttribute("src")===a)return!0;return!1},G=function(a){a=a||this;var b=c.getElementsByClassName("is-social")||"";if(b){var d,e;d=0;for(e=b.length;d<e;d+=1)a!==b[d]&&b[d].classList.remove("is-active")}};a.addEventListener("click",G);var H=c.getElementById("ya-share2")||"",p=(f=c.getElementsByClassName("btn-share")[0]||"")?f.getElementsByTagName("a")[0]||"":"",I,q=function(b){b.preventDefault();b.stopPropagation();D(function(){H.classList.toggle("is-active");
G(H);var b=function(){if(a.Ya)try{I?I.updateContent({title:w,description:w,url:M}):I=Ya.share2("ya-share2",{content:{title:w,description:w,url:M}})}catch(b){}},c=z+"://yastatic.net/share2/share.js";N(c)?b():new loadJsCss([c],b)},200)()};f&&p&&H&&p.addEventListener("click",q);var O=c.getElementsByClassName("vk-like")[0]||"",P=c.getElementsByClassName("holder-vk-like")[0]||"",p=(f=c.getElementsByClassName("btn-like")[0]||"")?f.getElementsByTagName("a")[0]||"":"",Q,q=function(b){b.preventDefault();b.stopPropagation();
D(function(){P.classList.toggle("is-active");G(P);var b=function(){if(a.VK&&!Q)try{VK.init({apiId:O.dataset.apiid||"",nameTransportPath:"/xd_receiver.htm",onlyWidgets:!0}),VK.Widgets.Like("vk-like",{type:"button",height:24}),Q=!0}catch(b){}},c=z+"://vk.com/js/api/openapi.js?147";N(c)?b():new loadJsCss([c],b)},200)()};f&&p&&O&&p.addEventListener("click",q);var y=function(a,b){function c(){g=0;m=+new Date;f=a.apply(d,e);e=d=null}var d,e,f,g,m=0;return function(){d=this;e=arguments;var a=new Date-m;
g||(a>=b?c():g=setTimeout(c,b-a));return f}},k=c.getElementsByClassName("title-bar")[0]||"",J=k.offsetHeight||0,R=function(){y(function(){k.classList.remove("is-fixed");(c.body.scrollTop||g.scrollTop||0)>J?k.classList.add("is-hidden"):k.classList.remove("is-hidden")},100)()},S=function(){y(function(){k.classList.remove("is-hidden");(c.body.scrollTop||g.scrollTop||0)>J?k.classList.add("is-fixed"):k.classList.remove("is-fixed")},100)()},f=function(){y(function(){(c.body.scrollTop||g.scrollTop||0)<J&&
(k.classList.remove("is-hidden"),k.classList.remove("is-fixed"))},100)()};k&&(a.addEventListener("scroll",f,{passive:!0}),d?a.tocca&&(a.addEventListener("swipeup",R,{passive:!0}),a.addEventListener("swipedown",S,{passive:!0})):b&&a.WheelIndicator&&new WheelIndicator({elem:a,callback:function(a){"down"===a.direction&&R();"up"===a.direction&&S()},preventMouse:!1}));var aa=function(b,c,d){function e(){p+=1/60;var b=p/h,c=q[k](b);1>b?(requestAnimationFrame(e),a.scrollTo(0,f+(m-f)*c)):a.scrollTo(0,m)}
var f=a.scrollY||g.scrollTop,m=b||0,k=d||"easeOutSine",p=0,h=Math.max(.1,Math.min(Math.abs(f-m)/(c||2E3),.8)),q={easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}};e()},T=c.body||"",f=c.getElementsByClassName("btn-totop")[0]||"",p=function(a){a.stopPropagation();a.preventDefault();aa(0,2E4)},q=function(a){y(function(){var b=c.getElementsByClassName("btn-totop")[0]||
"",d=a.pageYOffset||g.scrollTop||T.scrollTop||"",e=a.innerHeight||g.clientHeight||T.clientHeight||"";d&&e&&b&&(d>e?b.classList.add("is-active"):b.classList.remove("is-active"))},100)()};f&&(f.addEventListener("click",p),a.addEventListener("scroll",q,{passive:!0}))},u=["./libs/picturewall/css/bundle.min.css"];(function(){var b=!1;try{var c=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){b=!0}});a.addEventListener("test",function(){},c)}catch(d){}return b})()&&a.requestAnimationFrame&&
a.matchMedia&&("undefined"!==typeof a.Element||"dataset"in g)&&"classList"in c.createElement("_")&&(!c.createElementNS||"classList"in c.createElementNS("http://www.w3.org/2000/svg","g"))&&(!a.attachEvent||a.addEventListener)&&"onhashchange"in a&&Array.prototype.indexOf&&a.Promise&&a.fetch&&c.querySelectorAll&&c.querySelector&&Function.prototype.bind&&(!(Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent"))||Object.getOwnPropertyDescriptor(Element.prototype,
"textContent").get)&&"undefined"!==typeof a.localStorage&&"undefined"!==typeof a.sessionStorage&&a.WeakMap&&a.MutationObserver||u.push("../../cdn/polyfills/js/polyfills.fixed.min.js");u.push("./libs/picturewall/js/vendors.min.js");var C=function(){var a=c.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))}();loadCSS(z+"://fonts.googleapis.com/css?family=Roboto:400,700&subset=cyrillic",function(){var a,b=function(){clearInterval(a);a=null;e.increase(20);new loadJsCss(u,A)},c=function(){doesFontExist("Roboto")&&
b()};C?a=setInterval(c,100):(a=null,b())})})("undefined"!==typeof window?window:this,document);
//# sourceMappingURL=bundle.min.js.map
