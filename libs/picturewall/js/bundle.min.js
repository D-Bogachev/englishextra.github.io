(function(e){e.console||(e.console={});e=e.console;for(var d,h=function(){},b=["memory"],a="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");d=b.pop();)e[d]||(e[d]={});for(;d=a.pop();)e[d]||(e[d]=h);d=d=h=b=a=null})("undefined"!==typeof window?window:this);
(function(e,d,h){var b=function(){var a=function(){function b(a,g){this.progress=0;this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2};if(a&&"object"===typeof a)for(var c in a)a.hasOwnProperty(c)&&(this.options[c]=a[c]);this.options.opacityDuration=3*this.options.duration;this.progressBar=d.createElement("div");this.progressBar.id=this.options.id;this.progressBar.setCSS=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.style[b]=a[b])};this.progressBar.setCSS({position:g?
"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"});if(g){var k;-1!==g.indexOf("#",0)?k=d.getElementById(g)||"":-1!==g.indexOf(".",0)&&(k=d.getElementsByClassName(g)[0]||
"");k&&(k.hasChildNodes()?k.insertBefore(this.progressBar,k.firstChild):k.appendChild(this.progressBar))}else d.body.appendChild(this.progressBar)}var k=function(){var a,b=d.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(c.hasOwnProperty(a)&&b.style[a]!==h)return c[a]}();b.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"};b.prototype.getProgress=function(){return this.progress};
b.prototype.setProgress=function(a,b){this.show();this.progress=100<a?100:0>a?0:a;this.transit();b&&b()};b.prototype.increase=function(a,b){this.show();this.setProgress(this.progress+a,b)};b.prototype.decrease=function(a,b){this.show();this.setProgress(this.progress-a,b)};b.prototype.finish=function(b){var c=this;this.setProgress(100,b);this.hide();k&&this.progressBar.addEventListener(k,function(b){c.reset();c.progressBar.removeEventListener(b.type,a)})};b.prototype.reset=function(a){this.progress=
0;this.transit();a&&a()};b.prototype.hide=function(){this.progressBar.style.opacity="0"};b.prototype.show=function(){this.progressBar.style.opacity="1"};return b};return a()}();e.ToProgress=b})("undefined"!==typeof window?window:this,document);
(function(e,d){var h={create:function(b,a,c,d,f){var g=this;g.dataAttributeHighresName=c||"highres";g.dataAttributeLowresName=d||"lowres";h.resize(b.children);b.classList.remove("loading");b.addEventListener("click",function(){g.children&&0<g.children.length&&h.shrink(g.children[0])});for(c=0;c<b.children.length;c++)b.children[c].addEventListener("click",h.animate);a&&h.keys(b);"function"===typeof f&&f(b)},keys:function(b){var a=function(a){if(!a.defaultPrevented){var k=b||d.getElementsByClassName("zoomwall lightbox")[0];
if(k)switch(a.keyCode){case 27:k.children&&0<k.children.length&&h.shrink(k.children[0]);a.preventDefault();break;case 37:h.page(k,!1);a.preventDefault();break;case 39:h.page(k,!0),a.preventDefault()}}};d.addEventListener("keydown",a);return a},resizeRow:function(b,a){if(b&&1<b.length)for(var c in b)b.hasOwnProperty(c)&&(b[c].style.width=parseInt(e.getComputedStyle(b[c]).width,10)/a*100+"%",b[c].style.height="auto")},calcRowWidth:function(b){var a=0,c;for(c in b)b.hasOwnProperty(c)&&(a+=parseInt(e.getComputedStyle(b[c]).width,
10));return a},resize:function(b){for(var a=[],c=-1,d=0;d<b.length;d++){var f=b[d];f&&(-1==c?c=f.offsetTop:f.offsetTop!=c&&(h.resizeRow(a,h.calcRowWidth(a)),a=[],c=f.offsetTop),a.push(f))}h.resizeRow(a,h.calcRowWidth(a))},reset:function(b){b.style.transform="translate(0, 0) scale(1)";b.style.webkitTransform="translate(0, 0) scale(1)";b.classList.remove("active")},shrink:function(b){b.parentNode.classList.remove("lightbox");h.reset(b);for(var a=b.previousElementSibling;a;)h.reset(a),a=a.previousElementSibling;
for(a=b.nextElementSibling;a;)h.reset(a),a=a.nextElementSibling;b.dataset.lowres&&(b.src=b.dataset.lowres)},expand:function(b){b.classList.add("active");b.parentNode.classList.add("lightbox");var a=e.getComputedStyle(b.parentNode),c=parseInt(a.width,10),d=parseInt(a.height,10),f=b.parentNode.getBoundingClientRect().top,a=e.getComputedStyle(b),g=parseInt(a.width,10),h=parseInt(a.height,10),m=e.innerHeight;d<e.innerHeight?m=d:0<f&&(m-=f);b.dataset[this.dataAttributeHighresName]&&(b.src!=b.dataset[this.dataAttributeHighresName]&&
void 0===b.dataset[this.dataAttributeLowresName]&&(b.dataset[this.dataAttributeLowresName]=b.src),b.src=b.dataset[this.dataAttributeHighresName]);var l=[];l.push(b);for(a=b.nextElementSibling;a&&a.offsetTop==b.offsetTop;)l.push(a),a=a.nextElementSibling;for(a=b.previousElementSibling;a&&a.offsetTop==b.offsetTop;)l.unshift(a),a=a.previousElementSibling;a=m/h;g*a>c&&(a=c/g);var q=f-b.parentNode.offsetTop+b.offsetTop;if(d<e.innerHeight||h*a<d)q-=m/2-h*a/2;0<f&&(q-=f);for(d=f=0;d<l.length&&l[d]!=b;d++)f+=
parseInt(e.getComputedStyle(l[d]).width,10)*a;f=c/2-g*a/2-f;d=0;for(m=l.length-1;0<=m&&l[m]!=b;m--)d+=parseInt(e.getComputedStyle(l[m]).width,10)*a;d=c/2-g*a/2-d;for(g=c=b=0;g<l.length;g++){b+=c*a-c;var c=parseInt(e.getComputedStyle(l[g]).width,10),m=(b+f)/c*100,n=-q/parseInt(e.getComputedStyle(l[g]).height,10)*100;l[g].style.transformOrigin="0% 0%";l[g].style.webkitTransformOrigin="0% 0%";l[g].style.transform="translate("+m.toFixed(8)+"%, "+n.toFixed(8)+"%) scale("+a.toFixed(8)+")";l[g].style.webkitTransform=
"translate("+m.toFixed(8)+"%, "+n.toFixed(8)+"%) scale("+a.toFixed(8)+")"}for(var h=h*(a-1)-q,p,c=b=0,g=l[l.length-1].nextElementSibling,m=-1;g;){n=g.offsetTop;n==m?b+=c*a-c:(-1!=m&&(b=0,h+=p*(a-1)),m=n);c=parseInt(e.getComputedStyle(g).width,10);p=parseInt(e.getComputedStyle(g).height,10);var n=(b+f)/c*100,u=h/p*100;g.style.transformOrigin="0% 0%";g.style.webkitTransformOrigin="0% 0%";g.style.transform="translate("+n.toFixed(8)+"%, "+u.toFixed(8)+"%) scale("+a.toFixed(8)+")";g.style.webkitTransform=
"translate("+n.toFixed(8)+"%, "+u.toFixed(8)+"%) scale("+a.toFixed(8)+")";g=g.nextElementSibling}p=-q;c=b=0;l=l[0].previousElementSibling;for(q=-1;l;)f=l.offsetTop,f==q?b-=c*a-c:(b=0,p-=parseInt(e.getComputedStyle(l).height,10)*(a-1),q=f),c=parseInt(e.getComputedStyle(l).width,10),f=(b-d)/c*100,h=p/parseInt(e.getComputedStyle(l).height,10)*100,l.style.transformOrigin="100% 0%",l.style.webkitTransformOrigin="100% 0%",l.style.transform="translate("+f.toFixed(8)+"%, "+h.toFixed(8)+"%) scale("+a.toFixed(8)+
")",l.style.webkitTransform="translate("+f.toFixed(8)+"%, "+h.toFixed(8)+"%) scale("+a.toFixed(8)+")",l=l.previousElementSibling},animate:function(b){if(this.classList.contains("active"))h.shrink(this);else{for(var a=this.parentNode.getElementsByClassName("active"),d=0;d<a.length;d++)a[d].classList.remove("active");h.expand(this)}b.stopPropagation()},page:function(b,a){var d=b.getElementsByClassName("active");if(d&&0<d.length){var d=d[0],e;if(e=a?d.nextElementSibling:d.previousElementSibling)d.classList.remove("active"),
d.dataset.lowres&&(d.src=d.dataset.lowres),h.expand(e)}}};e.zoomwall=h})("undefined"!==typeof window?window:this,document);
(function(e){function d(a,b){for(var d=b.split(".");d.length;){if(!(d[0]in a))return!1;a=a[d.shift()]}return a}function h(c,f){return c.replace(b,function(a,b,c,e,q,k,p,u){e=d(f,e);var w="",v;if(!e)return"!"===c?h(q,f):p?h(u,f):"";if(!c)return h(k,f);if("@"===c){a=f._key;b=f._val;for(v in e)e.hasOwnProperty(v)&&(f._key=v,f._val=e[v],w+=h(q,f));f._key=a;f._val=b;return w}}).replace(a,function(a,b,c){return(a=d(f,c))||0===a?"%"===b?(new Option(a)).text.replace(/"/g,"&quot;"):a:""})}var b=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,
a=/\{\{([=%])(.+?)\}\}/g,c=function(a){this.t=a};c.prototype.render=function(a){return h(this.t,a)};e.t=c})("undefined"!==typeof window?window:this);
(function(e,d){e.echo=function(h,b,a){h=h||"data-src-img";b=b||"src";a=a||100;var c=function(a){this.elem=a;this.render();this.listen()},k=d.documentElement.classList.contains("is-binded-echo")||"",f=[],g=function(){for(var a=0;a<f.length;a++){var c=f[a],g=c.getBoundingClientRect();if((0<=g.top&&0<=g.left&&g.top)<=(e.innerHeight||d.documentElement.clientHeight)){var g=c,h=a;-1!==f.indexOf(c)&&f.splice(h,1);g.src=g.dataset[b]||g.getAttribute("data-"+b)}}},N=function(a,b){function d(){f=0;h=+new Date;
e=a.apply(c,g);g=c=null}var c,g,e,f,h=0;return function(){c=this;g=arguments;var a=new Date-h;f||(a>=b?d():f=setTimeout(d,b-a));return e}}(g,a),m=function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});e.addEventListener("test",function(){},b)}catch(d){}return a}();c.prototype={init:function(){f.push(this.elem)},render:function(){g()},listen:function(){k||(e.addEventListener("scroll",N,m?{passive:!0}:!1),d.documentElement.classList.add("is-binded-echo"))}};
var l=d.getElementsByClassName(h)||"";l&&function(){for(var a=0;a<l.length;a++)(new c(l[a])).init()}()}})("undefined"!==typeof window?window:this,document);(function(e,d){e.doesFontExist=function(e){var b=d.createElement("canvas").getContext("2d");b.font="72px monospace";var a=b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width;b.font="72px '"+e+"', monospace";return b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width==a?!1:!0}})("undefined"!==typeof window?window:this,document);
(function(e,d){e.loadJsCss=function(e,b){var a=this;a.files=e;a.js=[];a.head=d.getElementsByTagName("head")[0]||"";a.body=d.body||"";a.ref=d.getElementsByTagName("script")[0]||"";a.callback=b||function(){};a.loadStyle=function(b){var c=d.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=b;a.head.appendChild(c)};a.loadScript=function(b){var c=d.createElement("script");c.type="text/javascript";c.async=!0;c.src=a.js[b];c.onload=function(){++b<a.js.length?a.loadScript(b):a.callback()};
a.head.appendChild(c);a.ref.parentNode?a.ref.parentNode.insertBefore(c,a.ref):(a.body||a.head).appendChild(c)};var c,k;c=0;for(k=a.files.length;c<k;c+=1)/\.js$|\.js\?/.test(a.files[c])&&a.js.push(a.files[c]),/\.css$|\.css\?|\/css\?/.test(a.files[c])&&a.loadStyle(a.files[c]);c=k=null;0<a.js.length?a.loadScript(0):a.callback()}})("undefined"!==typeof window?window:this,document);
(function(e,d){var h=new ToProgress({id:"top-progress-bar",color:"#FF2C40",height:"0.200rem",duration:.2});h.increase(20);var b="ontouchstart"in d.documentElement||"",a="onwheel"in d.createElement("div")||void 0!==d.onmousewheel||"",c=function(){var a=d.documentElement||"";a&&a.classList&&(a.classList.remove("no-js"),a.classList.add("js"));h.increase(20);var b="ontouchstart"in d.documentElement||"",c="onwheel"in d.createElement("div")||void 0!==d.onmousewheel||"",l=d.title||"",k=navigator.userAgent||
"",n=function(){var a=new Date,b=a.getDate(),d=a.getFullYear(),a=a.getMonth(),a=a+1;10>b&&(b="0"+b);10>a&&(a="0"+a);return d+"-"+a+"-"+b}(),p="";k&&e.platform&&(p=platform.description||"",d.title=l+" ["+(n?" "+n:"")+(p?" "+p:"")+(b||c?" with":"")+(b?" touch":"")+(b&&c?",":"")+(c?" mousewheel":"")+"]");var u=d.getElementsByClassName("zoomwall")[0]||"",w=function(a,b,c){b=d.getElementById(b)||"";c=d.getElementById(c)||"";return(a=-1!==["boolean","number","string","symbol","function"].indexOf(typeof a)?
JSON.parse(a):a)&&b&&c?(new t(b.innerHTML||"")).render(a):{}},v=function(a,b,c){var e=d.body||"",g=function(){return c&&"function"===typeof c&&c()};try{var f=b.cloneNode(!1);if(d.createRange){var h=d.createRange();h.selectNode(e);var k=h.createContextualFragment(a);f.appendChild(k);return b.parentNode?b.parentNode.replaceChild(f,b):b.innerHTML=a,g()}f.innerHTML=a;return b.parentNode?b.parentNode.replaceChild(d.createDocumentFragment.appendChild(f),b):b.innerHTML=a,g()}catch(l){console.log(l)}},O=
function(a,b,c,e,f){f=f||"";var g=d.getElementById(b)||"",h=d.getElementById(c)||"",k=function(){return e&&"function"===typeof e&&e()};a&&g&&h&&(a=w(a,b,c),f?(h.innerHTML=a,k()):v(a,h,k))},P=function(a){var b=0,d;for(d in a)a.hasOwnProperty(d)&&++b;return b},Q=function(a){return new Promise(function(b,c){var e;try{if(e=JSON.parse(a),e.pages[0].src)if(e.pages[0].width){if(!e.pages[0].height)throw Error("incomplete JSON data: no height");if(!e.pages[0].title)throw Error("incomplete JSON data: no title");
}else throw Error("incomplete JSON data: no width");else throw Error("incomplete JSON data: no src");}catch(f){console.log("cannot init generateGallery",f);return}var g=P(e.pages);O(e,"template_zoomwall","target_zoomwall",function(){g===d.getElementsByClassName("data-src-img").length?b():c()},!0)})},x,R=function(){clearTimeout(x);x=null;zoomwall.create(u,!0,"src",null,function(){u.style.visibility="visible";u.style.opacity=1})},y,S=function(){clearTimeout(y);y=null;echo("data-src-img","src")},k=new Headers;
fetch("./libs/contents-cards/json/contents.json",{headers:k,credentials:"same-origin"}).then(function(a){if(a.ok)return a.text();throw Error("cannot fetch","./libs/contents-cards/json/contents.json");}).then(function(a){Q(a).then(function(a){return a}).then(function(a){x=setTimeout(R,200)}).then(function(a){y=setTimeout(S,200)})["catch"](function(a){console.log("Cannot create zoomwall gallery",a)})})["catch"](function(a){console.log("cannot parse","./libs/contents-cards/json/contents.json")});var D=
e.location.href||"",E=function(a){var b,c,e;b=d.getElementsByTagName("script")||"";c=0;for(e=b.length;c<e;c+=1)if(b[c].getAttribute("src")===a)return!0;return!1},z=function(a){a=a||this;var b=d.getElementsByClassName("is-social")||"";if(b){var c,e;c=0;for(e=b.length;c<e;c+=1)a!==b[c]&&b[c].classList.remove("is-active")}};e.addEventListener("click",z);var F=function(a,b,c){function d(){var l=Date.now()-h;l<b&&0<=l?e=setTimeout(d,b-l):(e=null,c||(k=a.apply(g,f),g=f=null))}var e,f,g,h,k;if(void 0===
b||null===b)b=100;var l=function(){g=this;f=arguments;h=Date.now();var l=c&&!e;e||(e=setTimeout(d,b));l&&(k=a.apply(g,f),g=f=null);return k};l.clear=function(){e&&(clearTimeout(e),e=null)};l.flush=function(){e&&(k=a.apply(g,f),g=f=null,clearTimeout(e),e=null)};return l},A=d.getElementById("ya-share2")||"",n=(k=d.getElementsByClassName("btn-share")[0]||"")?k.getElementsByTagName("a")[0]||"":"",B,p=function(a){a.preventDefault();a.stopPropagation();F(function(){A.classList.toggle("is-active");z(A);
var a=function(){if(e.Ya)try{B?B.updateContent({title:l,description:l,url:D}):B=Ya.share2("ya-share2",{content:{title:l,description:l,url:D}})}catch(a){console.log("cannot update or init Ya",a)}},b=f+"://yastatic.net/share2/share.js";E(b)?a():new loadJsCss([b],a)},200)()};k&&n&&A&&n.addEventListener("click",p);var G=d.getElementsByClassName("vk-like")[0]||"",H=d.getElementsByClassName("holder-vk-like")[0]||"",n=(k=d.getElementsByClassName("btn-like")[0]||"")?k.getElementsByTagName("a")[0]||"":"",
I,p=function(a){a.preventDefault();a.stopPropagation();F(function(){H.classList.toggle("is-active");z(H);var a=function(){if(e.VK&&!I)try{VK.init({apiId:G.dataset.apiid||"",nameTransportPath:"/xd_receiver.htm",onlyWidgets:!0}),VK.Widgets.Like("vk-like",{type:"button",height:24}),I=!0}catch(a){console.log("cannot init VK",a)}},b=f+"://vk.com/js/api/openapi.js?147";E(b)?a():new loadJsCss([b],a)},200)()};k&&n&&G&&n.addEventListener("click",p);var C=function(a,b){function c(){g=0;h=+new Date;f=a.apply(d,
e);e=d=null}var d,e,f,g,h=0;return function(){d=this;e=arguments;var a=new Date-h;g||(a>=b?c():g=setTimeout(c,b-a));return f}},r=d.getElementsByClassName("title-bar")[0]||"",J=r.offsetHeight||0,k=d.getElementsByClassName("wrapper")[0]||"",K=function(){C(function(){(d.body.scrollTop||d.documentElement.scrollTop||0)>J?r.classList.add("is-hidden"):(r.classList.remove("is-fixed"),r.classList.remove("is-hidden"))},100)()},L=function(){C(function(){r.classList.remove("is-hidden");(d.body.scrollTop||d.documentElement.scrollTop||
0)>J?r.classList.add("is-fixed"):r.classList.remove("is-fixed")},100)()};k&&r&&(b?e.tocca&&(e.addEventListener("swipeup",K,{passive:!0}),e.addEventListener("swipedown",L,{passive:!0})):c&&e.WheelIndicator&&new WheelIndicator({elem:k,callback:function(a){"down"===a.direction&&K();"up"===a.direction&&L()},preventMouse:!1}));var T=function(a,b,c){function f(){l+=1/60;var a=l/m,b=n[k](a);1>a?(requestAnimationFrame(f),e.scrollTo(0,g+(h-g)*b)):e.scrollTo(0,h)}var g=e.scrollY||d.documentElement.scrollTop,
h=a||0,k=c||"easeOutSine",l=0,m=Math.max(.1,Math.min(Math.abs(g-h)/(b||2E3),.8)),n={easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}};f()},M=d.body||"",b=d.getElementsByClassName("btn-totop")[0]||"",c=function(a){a.stopPropagation();a.preventDefault();T(0,2E4);r&&r.classList.remove("is-hidden")},k=function(b){C(function(){var c=d.getElementsByClassName("btn-totop")[0]||
"",e=b.pageYOffset||a.scrollTop||M.scrollTop||"",f=b.innerHeight||a.clientHeight||M.clientHeight||"";e&&f&&c&&(e>f?c.classList.add("is-active"):c.classList.remove("is-active"))},100)()};b&&(b.addEventListener("click",c),e.addEventListener("scroll",k,{passive:!0}));h.finish();h.hide()},k=["./libs/picturewall/css/bundle.min.css"],f=function(a){var b=e.location.protocol||"";return"http:"===b?"http":"https:"===b?"https":a?"http":""}(!0);"classList"in d.createElement("_")||k.push(f+"://cdn.jsdelivr.net/npm/classlist.js@1.1.20150312/classList.min.js");
"undefined"!==typeof e.Element&&"dataset"in d.documentElement||k.push(f+"://cdn.jsdelivr.net/npm/element-dataset@2.2.6/lib/browser/index.cjs.min.js");(function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});e[addEventListener]("test",function(){},b)}catch(c){}return a})()||k.push(f+"://cdn.jsdelivr.net/npm/dom4@1.8.5/build/dom4.max.min.js");e.Promise||k.push(f+"://cdn.jsdelivr.net/es6-promise-polyfill/1.2.0/promise.min.js");e.fetch||k.push(f+
"://cdn.jsdelivr.net/fetch/2.0.1/fetch.min.js");e.requestAnimationFrame||k.push(f+"://cdn.jsdelivr.net/npm/request-animation-frame-polyfill@0.1.3/index.min.js");k.push(f+"://cdn.jsdelivr.net/npm/platform@1.3.4/platform.min.js");b?k.push(f+"://cdnjs.cloudflare.com/ajax/libs/Tocca.js/2.0.1/Tocca.min.js"):a&&k.push("./cdn/wheel-indicator/1.1.4/js/wheel-indicator.fixed.min.js");new loadJsCss([f+"://fonts.googleapis.com/css?family=Roboto:400,700&subset=cyrillic"],function(){var a,b=function(){clearInterval(a);
a=null;h.increase(20);new loadJsCss(k,c)},e=function(){doesFontExist("Roboto")&&b()};(function(){var a=d.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))})()?a=setInterval(e,100):(a=null,b())})})("undefined"!==typeof window?window:this,document);
//# sourceMappingURL=bundle.min.js.map
