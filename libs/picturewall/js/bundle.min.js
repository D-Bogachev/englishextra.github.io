(function(f){f.console||(f.console={});f=f.console;for(var g,d=function(){},b=["memory"],a="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");g=b.pop();)f[g]||(f[g]={});for(;g=a.pop();)f[g]||(f[g]=d);g=g=d=b=a=null})("undefined"!==typeof window?window:this);
(function(f,g,d){var b=function(){var a=function(){function b(a,c){this.progress=0;this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2};if(a&&"object"===typeof a)for(var e in a)a.hasOwnProperty(e)&&(this.options[e]=a[e]);this.options.opacityDuration=3*this.options.duration;this.progressBar=g.createElement("div");this.progressBar.id=this.options.id;this.progressBar.setCSS=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.style[b]=a[b])};this.progressBar.setCSS({position:c?
"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"});if(c){var f;-1!==c.indexOf("#",0)?f=g.getElementById(c)||"":-1!==c.indexOf(".",0)&&(f=g.getElementsByClassName(c)[0]||
"");f&&(f.hasChildNodes()?f.insertBefore(this.progressBar,f.firstChild):f.appendChild(this.progressBar))}else g.body.appendChild(this.progressBar)}var e=function(){var a,b=g.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(c.hasOwnProperty(a)&&b.style[a]!==d)return c[a]}();b.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"};b.prototype.getProgress=function(){return this.progress};
b.prototype.setProgress=function(a,b){this.show();this.progress=100<a?100:0>a?0:a;this.transit();b&&b()};b.prototype.increase=function(a,b){this.show();this.setProgress(this.progress+a,b)};b.prototype.decrease=function(a,b){this.show();this.setProgress(this.progress-a,b)};b.prototype.finish=function(b){var c=this;this.setProgress(100,b);this.hide();e&&this.progressBar.addEventListener(e,function(b){c.reset();c.progressBar.removeEventListener(b.type,a)})};b.prototype.reset=function(a){this.progress=
0;this.transit();a&&a()};b.prototype.hide=function(){this.progressBar.style.opacity="0"};b.prototype.show=function(){this.progressBar.style.opacity="1"};return b};return a()}();f.ToProgress=b})("undefined"!==typeof window?window:this,document);
(function(f,g){var d={create:function(b,a,c,e,h){var l=this;l.dataAttributeHighresName=c||"highres";l.dataAttributeLowresName=e||"lowres";d.resize(b.children);b.classList.remove("loading");b.addEventListener("click",function(){l.children&&0<l.children.length&&d.shrink(l.children[0])});for(c=0;c<b.children.length;c++)b.children[c].addEventListener("click",d.animate);a&&d.keys(b);"function"===typeof h&&h(b)},keys:function(b){var a=function(a){if(!a.defaultPrevented){var e=b||g.getElementsByClassName("zoomwall lightbox")[0];
if(e)switch(a.keyCode){case 27:e.children&&0<e.children.length&&d.shrink(e.children[0]);a.preventDefault();break;case 37:d.page(e,!1);a.preventDefault();break;case 39:d.page(e,!0),a.preventDefault()}}};g.addEventListener("keydown",a);return a},resizeRow:function(b,a){if(b&&1<b.length)for(var c in b)b.hasOwnProperty(c)&&(b[c].style.width=parseInt(f.getComputedStyle(b[c]).width,10)/a*100+"%",b[c].style.height="auto")},calcRowWidth:function(b){var a=0,c;for(c in b)b.hasOwnProperty(c)&&(a+=parseInt(f.getComputedStyle(b[c]).width,
10));return a},resize:function(b){for(var a=[],c=-1,e=0;e<b.length;e++){var h=b[e];h&&(-1==c?c=h.offsetTop:h.offsetTop!=c&&(d.resizeRow(a,d.calcRowWidth(a)),a=[],c=h.offsetTop),a.push(h))}d.resizeRow(a,d.calcRowWidth(a))},reset:function(b){b.style.transform="translate(0, 0) scale(1)";b.style.webkitTransform="translate(0, 0) scale(1)";b.classList.remove("active")},shrink:function(b){b.parentNode.classList.remove("lightbox");d.reset(b);for(var a=b.previousElementSibling;a;)d.reset(a),a=a.previousElementSibling;
for(a=b.nextElementSibling;a;)d.reset(a),a=a.nextElementSibling;b.dataset.lowres&&(b.src=b.dataset.lowres)},expand:function(b){b.classList.add("active");b.parentNode.classList.add("lightbox");var a=f.getComputedStyle(b.parentNode),c=parseInt(a.width,10),e=parseInt(a.height,10),h=b.parentNode.getBoundingClientRect().top,a=f.getComputedStyle(b),l=parseInt(a.width,10),g=parseInt(a.height,10),d=f.innerHeight;e<f.innerHeight?d=e:0<h&&(d-=h);b.dataset[this.dataAttributeHighresName]&&(b.src!=b.dataset[this.dataAttributeHighresName]&&
void 0===b.dataset[this.dataAttributeLowresName]&&(b.dataset[this.dataAttributeLowresName]=b.src),b.src=b.dataset[this.dataAttributeHighresName]);var k=[];k.push(b);for(a=b.nextElementSibling;a&&a.offsetTop==b.offsetTop;)k.push(a),a=a.nextElementSibling;for(a=b.previousElementSibling;a&&a.offsetTop==b.offsetTop;)k.unshift(a),a=a.previousElementSibling;a=d/g;l*a>c&&(a=c/l);var m=h-b.parentNode.offsetTop+b.offsetTop;if(e<f.innerHeight||g*a<e)m-=d/2-g*a/2;0<h&&(m-=h);for(e=h=0;e<k.length&&k[e]!=b;e++)h+=
parseInt(f.getComputedStyle(k[e]).width,10)*a;h=c/2-l*a/2-h;e=0;for(d=k.length-1;0<=d&&k[d]!=b;d--)e+=parseInt(f.getComputedStyle(k[d]).width,10)*a;e=c/2-l*a/2-e;for(l=c=b=0;l<k.length;l++){b+=c*a-c;var c=parseInt(f.getComputedStyle(k[l]).width,10),d=(b+h)/c*100,n=-m/parseInt(f.getComputedStyle(k[l]).height,10)*100;k[l].style.transformOrigin="0% 0%";k[l].style.webkitTransformOrigin="0% 0%";k[l].style.transform="translate("+d.toFixed(8)+"%, "+n.toFixed(8)+"%) scale("+a.toFixed(8)+")";k[l].style.webkitTransform=
"translate("+d.toFixed(8)+"%, "+n.toFixed(8)+"%) scale("+a.toFixed(8)+")"}for(var g=g*(a-1)-m,p,c=b=0,l=k[k.length-1].nextElementSibling,d=-1;l;){n=l.offsetTop;n==d?b+=c*a-c:(-1!=d&&(b=0,g+=p*(a-1)),d=n);c=parseInt(f.getComputedStyle(l).width,10);p=parseInt(f.getComputedStyle(l).height,10);var n=(b+h)/c*100,r=g/p*100;l.style.transformOrigin="0% 0%";l.style.webkitTransformOrigin="0% 0%";l.style.transform="translate("+n.toFixed(8)+"%, "+r.toFixed(8)+"%) scale("+a.toFixed(8)+")";l.style.webkitTransform=
"translate("+n.toFixed(8)+"%, "+r.toFixed(8)+"%) scale("+a.toFixed(8)+")";l=l.nextElementSibling}p=-m;c=b=0;k=k[0].previousElementSibling;for(m=-1;k;)h=k.offsetTop,h==m?b-=c*a-c:(b=0,p-=parseInt(f.getComputedStyle(k).height,10)*(a-1),m=h),c=parseInt(f.getComputedStyle(k).width,10),h=(b-e)/c*100,g=p/parseInt(f.getComputedStyle(k).height,10)*100,k.style.transformOrigin="100% 0%",k.style.webkitTransformOrigin="100% 0%",k.style.transform="translate("+h.toFixed(8)+"%, "+g.toFixed(8)+"%) scale("+a.toFixed(8)+
")",k.style.webkitTransform="translate("+h.toFixed(8)+"%, "+g.toFixed(8)+"%) scale("+a.toFixed(8)+")",k=k.previousElementSibling},animate:function(b){if(this.classList.contains("active"))d.shrink(this);else{for(var a=this.parentNode.getElementsByClassName("active"),c=0;c<a.length;c++)a[c].classList.remove("active");d.expand(this)}b.stopPropagation()},page:function(b,a){var c=b.getElementsByClassName("active");if(c&&0<c.length){var c=c[0],e;if(e=a?c.nextElementSibling:c.previousElementSibling)c.classList.remove("active"),
c.dataset.lowres&&(c.src=c.dataset.lowres),d.expand(e)}}};f.zoomwall=d})("undefined"!==typeof window?window:this,document);
(function(f){function g(a,b){for(var c=b.split(".");c.length;){if(!(c[0]in a))return!1;a=a[c.shift()]}return a}function d(c,h){return c.replace(b,function(a,b,c,e,f,n,p,r){e=g(h,e);var v="",q;if(!e)return"!"===c?d(f,h):p?d(r,h):"";if(!c)return d(n,h);if("@"===c){a=h._key;b=h._val;for(q in e)e.hasOwnProperty(q)&&(h._key=q,h._val=e[q],v+=d(f,h));h._key=a;h._val=b;return v}}).replace(a,function(a,b,c){return(a=g(h,c))||0===a?"%"===b?(new Option(a)).text.replace(/"/g,"&quot;"):a:""})}var b=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,
a=/\{\{([=%])(.+?)\}\}/g,c=function(a){this.t=a};c.prototype.render=function(a){return d(this.t,a)};f.t=c})("undefined"!==typeof window?window:this);
(function(f,g){f.echo=function(d,b,a){d=d||"data-src-img";b=b||"src";a=a||100;var c=function(a){this.elem=a;this.render();this.listen()},e=g.documentElement.classList.contains("is-binded-echo")||"",h=[],l=function(){for(var a=0;a<h.length;a++){var c=h[a],e=c.getBoundingClientRect();if((0<=e.top&&0<=e.left&&e.top)<=(f.innerHeight||g.documentElement.clientHeight)){var e=c,d=a;-1!==h.indexOf(c)&&h.splice(d,1);e.src=e.dataset[b]||e.getAttribute("data-"+b)}}},x=function(a,b){function c(){d=0;f=+new Date;
h=a.apply(e,g);g=e=null}var e,g,h,d,f=0;return function(){e=this;g=arguments;var a=new Date-f;d||(a>=b?c():d=setTimeout(c,b-a));return h}}(l,a),u=function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});f.addEventListener("test",function(){},b)}catch(c){}return a}();c.prototype={init:function(){h.push(this.elem)},render:function(){l()},listen:function(){e||(f.addEventListener("scroll",x,u?{passive:!0}:!1),g.documentElement.classList.add("is-binded-echo"))}};
var k=g.getElementsByClassName(d)||"";k&&function(){for(var a=0;a<k.length;a++)(new c(k[a])).init()}()}})("undefined"!==typeof window?window:this,document);(function(f,g){f.doesFontExist=function(d){var b=g.createElement("canvas").getContext("2d");b.font="72px monospace";var a=b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width;b.font="72px '"+d+"', monospace";return b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width==a?!1:!0}})("undefined"!==typeof window?window:this,document);
(function(f,g){f.loadJsCss=function(d,b){var a=this;a.files=d;a.js=[];a.head=g.getElementsByTagName("head")[0]||"";a.body=g.body||"";a.ref=g.getElementsByTagName("script")[0]||"";a.callback=b||function(){};a.loadStyle=function(b){var c=g.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=b;a.head.appendChild(c)};a.loadScript=function(b){var c=g.createElement("script");c.type="text/javascript";c.async=!0;c.src=a.js[b];c.onload=function(){++b<a.js.length?a.loadScript(b):a.callback()};
a.head.appendChild(c);a.ref.parentNode?a.ref.parentNode.insertBefore(c,a.ref):(a.body||a.head).appendChild(c)};var c,e;c=0;for(e=a.files.length;c<e;c+=1)/\.js$|\.js\?/.test(a.files[c])&&a.js.push(a.files[c]),/\.css$|\.css\?|\/css\?/.test(a.files[c])&&a.loadStyle(a.files[c]);c=e=null;0<a.js.length?a.loadScript(0):a.callback()}})("undefined"!==typeof window?window:this,document);
(function(f,g){var d=new ToProgress({id:"top-progress-bar",color:"#FF2C40",height:"0.200rem",duration:.2});d.increase(20);var b=function(){d.increase(20);var a="ontouchstart"in g.documentElement||"",b="onwheel"in g.createElement("div")||void 0!==g.onmousewheel||"",c=g.title||"",x=navigator.userAgent||"",u=function(){var a=new Date,b=a.getDate(),c=a.getFullYear(),a=a.getMonth(),a=a+1;10>b&&(b="0"+b);10>a&&(a="0"+a);return c+"-"+a+"-"+b}(),k="";x&&f.platform&&(k=platform.description||"",g.title=c+" ["+
(u?" "+u:"")+(k?" "+k:"")+(a||b?" with":"")+(a?" touch":"")+(a&&b?",":"")+(b?" mousewheel":"")+"]");var m=g.getElementsByClassName("zoomwall")[0]||"",n=function(a,b,c){b=g.getElementById(b)||"";c=g.getElementById(c)||"";return(a=-1!==["boolean","number","string","symbol","function"].indexOf(typeof a)?JSON.parse(a):a)&&b&&c?(new t(b.innerHTML||"")).render(a):{}},p=function(a,b,c){var e=g.body||"",d=function(){return c&&"function"===typeof c&&c()};try{var f=b.cloneNode(!1);if(g.createRange){var h=g.createRange();
h.selectNode(e);var k=h.createContextualFragment(a);f.appendChild(k);return b.parentNode?b.parentNode.replaceChild(f,b):b.innerHTML=a,d()}f.innerHTML=a;return b.parentNode?b.parentNode.replaceChild(g.createDocumentFragment.appendChild(f),b):b.innerHTML=a,d()}catch(l){console.log(l)}},r=function(a,b,c,e,d){d=d||"";var f=g.getElementById(b)||"",h=g.getElementById(c)||"",k=function(){return e&&"function"===typeof e&&e()};a&&f&&h&&(a=n(a,b,c),d?(h.innerHTML=a,k()):p(a,h,k))},v=function(a){return new Promise(function(b,
c){var e;try{if(e=JSON.parse(a),!e.pages[0].src)throw Error("incomplete JSON data: no src");}catch(d){console.log("cannot init generateGallery",d);return}r(e,"template_zoomwall","target_zoomwall",function(){0<g.getElementsByClassName("data-src-img").length?b():c()},!0)})},q,z=function(){clearTimeout(q);q=null;zoomwall.create(m,!0,"src",null,function(){m.style.visibility="visible";m.style.opacity=1})},y,A=function(){clearTimeout(y);y=null;echo("data-src-img","src")},a=new Headers;fetch("./libs/contents-cards/json/contents.json",
{headers:a,credentials:"same-origin"}).then(function(a){if(a.ok)return a.text();throw Error("cannot fetch","./libs/contents-cards/json/contents.json");}).then(function(a){v(a).then(function(a){return a}).then(function(a){q=setTimeout(z,100)}).then(function(a){y=setTimeout(A,200)})["catch"](function(a){console.log("Cannot create zoomwall gallery",a)})})["catch"](function(a){console.log("cannot parse","./libs/contents-cards/json/contents.json")});var B=function(a,b){function c(){f=0;h=+new Date;g=a.apply(e,
d);d=e=null}var e,d,g,f,h=0;return function(){e=this;d=arguments;var a=new Date-h;f||(a>=b?c():f=setTimeout(c,b-a));return g}},w=g.getElementsByClassName("title-bar")[0]||"",C=w.offsetHeight||0,a=function(){B(function(){(g.body.scrollTop||g.documentElement.scrollTop||0)>C?w.classList.add("is-fixed"):w.classList.remove("is-fixed")},100)()};w&&f.addEventListener("scroll",a,{passive:!0});d.finish();d.hide()},a=["./libs/picturewall/css/bundle.min.css"],c=function(a){var b=f.location.protocol||"";return"http:"===
b?"http":"https:"===b?"https":a?"http":""}(!0);"classList"in g.createElement("_")||a.push(c+"://cdn.jsdelivr.net/npm/classlist.js@1.1.20150312/classList.min.js");"undefined"!==typeof f.Element&&"dataset"in g.documentElement||a.push(c+"://cdn.jsdelivr.net/npm/element-dataset@2.2.6/lib/browser/index.cjs.min.js");(function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});f[addEventListener]("test",function(){},b)}catch(c){}return a})()||a.push(c+
"://cdn.jsdelivr.net/npm/dom4@1.8.5/build/dom4.max.min.js");f.Promise||a.push(c+"://cdn.jsdelivr.net/es6-promise-polyfill/1.2.0/promise.min.js");f.fetch||a.push(c+"://cdn.jsdelivr.net/fetch/2.0.1/fetch.min.js");a.push(c+"://cdn.jsdelivr.net/npm/platform@1.3.4/platform.min.js");new loadJsCss([c+"://fonts.googleapis.com/css?family=Roboto:400&subset=cyrillic"],function(){var c,f=function(){clearInterval(c);c=null;d.increase(20);new loadJsCss(a,b)},l=function(){doesFontExist("Roboto")&&f()};(function(){var a=
g.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))})()?c=setInterval(l,100):(c=null,f())})})("undefined"!==typeof window?window:this,document);
//# sourceMappingURL=bundle.min.js.map
