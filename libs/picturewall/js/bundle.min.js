(function(e){e.console||(e.console={});e=e.console;for(var d,g=function(){},b=["memory"],a="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");d=b.pop();)e[d]||(e[d]={});for(;d=a.pop();)e[d]||(e[d]=g);d=d=g=b=a=null})("undefined"!==typeof window?window:this);
(function(e,d,g){var b=function(){var a=function(){function b(a,h){this.progress=0;this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2};if(a&&"object"===typeof a)for(var c in a)a.hasOwnProperty(c)&&(this.options[c]=a[c]);this.options.opacityDuration=3*this.options.duration;this.progressBar=d.createElement("div");this.progressBar.id=this.options.id;this.progressBar.setCSS=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.style[b]=a[b])};this.progressBar.setCSS({position:h?
"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"});if(h){var k;-1!==h.indexOf("#",0)?k=d.getElementById(h)||"":-1!==h.indexOf(".",0)&&(k=d.getElementsByClassName(h)[0]||
"");k&&(k.hasChildNodes()?k.insertBefore(this.progressBar,k.firstChild):k.appendChild(this.progressBar))}else d.body.appendChild(this.progressBar)}var k=function(){var a,b=d.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(c.hasOwnProperty(a)&&b.style[a]!==g)return c[a]}();b.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"};b.prototype.getProgress=function(){return this.progress};
b.prototype.setProgress=function(a,b){this.show();this.progress=100<a?100:0>a?0:a;this.transit();b&&b()};b.prototype.increase=function(a,b){this.show();this.setProgress(this.progress+a,b)};b.prototype.decrease=function(a,b){this.show();this.setProgress(this.progress-a,b)};b.prototype.finish=function(b){var c=this;this.setProgress(100,b);this.hide();k&&this.progressBar.addEventListener(k,function(b){c.reset();c.progressBar.removeEventListener(b.type,a)})};b.prototype.reset=function(a){this.progress=
0;this.transit();a&&a()};b.prototype.hide=function(){this.progressBar.style.opacity="0"};b.prototype.show=function(){this.progressBar.style.opacity="1"};return b};return a()}();e.ToProgress=b})("undefined"!==typeof window?window:this,document);
(function(e,d){var g={create:function(b,a,c,k,d){var h=this;h.dataAttributeHighresName=c||"highres";h.dataAttributeLowresName=k||"lowres";g.resize(b.children);b.classList.remove("loading");b.addEventListener("click",function(){h.children&&0<h.children.length&&g.shrink(h.children[0])});for(c=0;c<b.children.length;c++)b.children[c].addEventListener("click",g.animate);a&&g.keys(b);"function"===typeof d&&d(b)},keys:function(b){var a=function(a){if(!a.defaultPrevented){var k=b||d.getElementsByClassName("zoomwall lightbox")[0];
if(k)switch(a.keyCode){case 27:k.children&&0<k.children.length&&g.shrink(k.children[0]);a.preventDefault();break;case 37:g.page(k,!1);a.preventDefault();break;case 39:g.page(k,!0),a.preventDefault()}}};d.addEventListener("keydown",a);return a},resizeRow:function(b,a){if(b&&1<b.length)for(var c in b)b.hasOwnProperty(c)&&(b[c].style.width=parseInt(e.getComputedStyle(b[c]).width,10)/a*100+"%",b[c].style.height="auto")},calcRowWidth:function(b){var a=0,c;for(c in b)b.hasOwnProperty(c)&&(a+=parseInt(e.getComputedStyle(b[c]).width,
10));return a},resize:function(b){for(var a=[],c=-1,d=0;d<b.length;d++){var l=b[d];l&&(-1==c?c=l.offsetTop:l.offsetTop!=c&&(g.resizeRow(a,g.calcRowWidth(a)),a=[],c=l.offsetTop),a.push(l))}g.resizeRow(a,g.calcRowWidth(a))},reset:function(b){b.style.transform="translate(0, 0) scale(1)";b.style.webkitTransform="translate(0, 0) scale(1)";b.classList.remove("active")},shrink:function(b){b.parentNode.classList.remove("lightbox");g.reset(b);for(var a=b.previousElementSibling;a;)g.reset(a),a=a.previousElementSibling;
for(a=b.nextElementSibling;a;)g.reset(a),a=a.nextElementSibling;b.dataset.lowres&&(b.src=b.dataset.lowres)},expand:function(b){b.classList.add("active");b.parentNode.classList.add("lightbox");var a=e.getComputedStyle(b.parentNode),c=parseInt(a.width,10),d=parseInt(a.height,10),l=b.parentNode.getBoundingClientRect().top,a=e.getComputedStyle(b),h=parseInt(a.width,10),g=parseInt(a.height,10),m=e.innerHeight;d<e.innerHeight?m=d:0<l&&(m-=l);b.dataset[this.dataAttributeHighresName]&&(b.src!=b.dataset[this.dataAttributeHighresName]&&
void 0===b.dataset[this.dataAttributeLowresName]&&(b.dataset[this.dataAttributeLowresName]=b.src),b.src=b.dataset[this.dataAttributeHighresName]);var f=[];f.push(b);for(a=b.nextElementSibling;a&&a.offsetTop==b.offsetTop;)f.push(a),a=a.nextElementSibling;for(a=b.previousElementSibling;a&&a.offsetTop==b.offsetTop;)f.unshift(a),a=a.previousElementSibling;a=m/g;h*a>c&&(a=c/h);var r=l-b.parentNode.offsetTop+b.offsetTop;if(d<e.innerHeight||g*a<d)r-=m/2-g*a/2;0<l&&(r-=l);for(d=l=0;d<f.length&&f[d]!=b;d++)l+=
parseInt(e.getComputedStyle(f[d]).width,10)*a;l=c/2-h*a/2-l;d=0;for(m=f.length-1;0<=m&&f[m]!=b;m--)d+=parseInt(e.getComputedStyle(f[m]).width,10)*a;d=c/2-h*a/2-d;for(h=c=b=0;h<f.length;h++){b+=c*a-c;var c=parseInt(e.getComputedStyle(f[h]).width,10),m=(b+l)/c*100,p=-r/parseInt(e.getComputedStyle(f[h]).height,10)*100;f[h].style.transformOrigin="0% 0%";f[h].style.webkitTransformOrigin="0% 0%";f[h].style.transform="translate("+m.toFixed(8)+"%, "+p.toFixed(8)+"%) scale("+a.toFixed(8)+")";f[h].style.webkitTransform=
"translate("+m.toFixed(8)+"%, "+p.toFixed(8)+"%) scale("+a.toFixed(8)+")"}for(var g=g*(a-1)-r,n,c=b=0,h=f[f.length-1].nextElementSibling,m=-1;h;){p=h.offsetTop;p==m?b+=c*a-c:(-1!=m&&(b=0,g+=n*(a-1)),m=p);c=parseInt(e.getComputedStyle(h).width,10);n=parseInt(e.getComputedStyle(h).height,10);var p=(b+l)/c*100,u=g/n*100;h.style.transformOrigin="0% 0%";h.style.webkitTransformOrigin="0% 0%";h.style.transform="translate("+p.toFixed(8)+"%, "+u.toFixed(8)+"%) scale("+a.toFixed(8)+")";h.style.webkitTransform=
"translate("+p.toFixed(8)+"%, "+u.toFixed(8)+"%) scale("+a.toFixed(8)+")";h=h.nextElementSibling}n=-r;c=b=0;f=f[0].previousElementSibling;for(r=-1;f;)l=f.offsetTop,l==r?b-=c*a-c:(b=0,n-=parseInt(e.getComputedStyle(f).height,10)*(a-1),r=l),c=parseInt(e.getComputedStyle(f).width,10),l=(b-d)/c*100,g=n/parseInt(e.getComputedStyle(f).height,10)*100,f.style.transformOrigin="100% 0%",f.style.webkitTransformOrigin="100% 0%",f.style.transform="translate("+l.toFixed(8)+"%, "+g.toFixed(8)+"%) scale("+a.toFixed(8)+
")",f.style.webkitTransform="translate("+l.toFixed(8)+"%, "+g.toFixed(8)+"%) scale("+a.toFixed(8)+")",f=f.previousElementSibling},animate:function(b){if(this.classList.contains("active"))g.shrink(this);else{for(var a=this.parentNode.getElementsByClassName("active"),d=0;d<a.length;d++)a[d].classList.remove("active");g.expand(this)}b.stopPropagation()},page:function(b,a){var d=b.getElementsByClassName("active");if(d&&0<d.length){var d=d[0],e;if(e=a?d.nextElementSibling:d.previousElementSibling)d.classList.remove("active"),
d.dataset.lowres&&(d.src=d.dataset.lowres),g.expand(e)}}};e.zoomwall=g})("undefined"!==typeof window?window:this,document);
(function(e){function d(a,b){for(var d=b.split(".");d.length;){if(!(d[0]in a))return!1;a=a[d.shift()]}return a}function g(c,e){return c.replace(b,function(a,b,c,f,k,p,n,u){f=d(e,f);var w="",v;if(!f)return"!"===c?g(k,e):n?g(u,e):"";if(!c)return g(p,e);if("@"===c){a=e._key;b=e._val;for(v in f)f.hasOwnProperty(v)&&(e._key=v,e._val=f[v],w+=g(k,e));e._key=a;e._val=b;return w}}).replace(a,function(a,b,c){return(a=d(e,c))||0===a?"%"===b?(new Option(a)).text.replace(/"/g,"&quot;"):a:""})}var b=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,
a=/\{\{([=%])(.+?)\}\}/g,c=function(a){this.t=a};c.prototype.render=function(a){return g(this.t,a)};e.t=c})("undefined"!==typeof window?window:this);
(function(e,d){e.echo=function(g,b,a){g=g||"data-src-img";b=b||"src";a=a||100;var c=function(a){this.elem=a;this.render();this.listen()},k=d.documentElement.classList.contains("is-binded-echo")||"",l=[],h=function(){for(var a=0;a<l.length;a++){var c=l[a],h=c.getBoundingClientRect();if((0<=h.top&&0<=h.left&&h.top)<=(e.innerHeight||d.documentElement.clientHeight)){var h=c,g=a;-1!==l.indexOf(c)&&l.splice(g,1);h.src=h.dataset[b]||h.getAttribute("data-"+b)}}},E=function(a,b){function d(){g=0;f=+new Date;
e=a.apply(c,h);h=c=null}var c,h,e,g,f=0;return function(){c=this;h=arguments;var a=new Date-f;g||(a>=b?d():g=setTimeout(d,b-a));return e}}(h,a),m=function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});e.addEventListener("test",function(){},b)}catch(d){}return a}();c.prototype={init:function(){l.push(this.elem)},render:function(){h()},listen:function(){k||(e.addEventListener("scroll",E,m?{passive:!0}:!1),d.documentElement.classList.add("is-binded-echo"))}};
var f=d.getElementsByClassName(g)||"";f&&function(){for(var a=0;a<f.length;a++)(new c(f[a])).init()}()}})("undefined"!==typeof window?window:this,document);(function(e,d){e.doesFontExist=function(e){var b=d.createElement("canvas").getContext("2d");b.font="72px monospace";var a=b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width;b.font="72px '"+e+"', monospace";return b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width==a?!1:!0}})("undefined"!==typeof window?window:this,document);
(function(e,d){e.loadJsCss=function(e,b){var a=this;a.files=e;a.js=[];a.head=d.getElementsByTagName("head")[0]||"";a.body=d.body||"";a.ref=d.getElementsByTagName("script")[0]||"";a.callback=b||function(){};a.loadStyle=function(b){var c=d.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=b;a.head.appendChild(c)};a.loadScript=function(b){var c=d.createElement("script");c.type="text/javascript";c.async=!0;c.src=a.js[b];c.onload=function(){++b<a.js.length?a.loadScript(b):a.callback()};
a.head.appendChild(c);a.ref.parentNode?a.ref.parentNode.insertBefore(c,a.ref):(a.body||a.head).appendChild(c)};var c,k;c=0;for(k=a.files.length;c<k;c+=1)/\.js$|\.js\?/.test(a.files[c])&&a.js.push(a.files[c]),/\.css$|\.css\?|\/css\?/.test(a.files[c])&&a.loadStyle(a.files[c]);c=k=null;0<a.js.length?a.loadScript(0):a.callback()}})("undefined"!==typeof window?window:this,document);
(function(e,d){var g=new ToProgress({id:"top-progress-bar",color:"#FF2C40",height:"0.200rem",duration:.2});g.increase(20);var b="ontouchstart"in d.documentElement||"",a="onwheel"in d.createElement("div")||void 0!==d.onmousewheel||"",c=function(){var a=d.documentElement||"";a&&a.classList&&(a.classList.remove("no-js"),a.classList.add("js"));g.increase(20);var b="ontouchstart"in d.documentElement||"",c="onwheel"in d.createElement("div")||void 0!==d.onmousewheel||"",f=d.title||"",l=navigator.userAgent||
"",k=function(){var a=new Date,b=a.getDate(),d=a.getFullYear(),a=a.getMonth(),a=a+1;10>b&&(b="0"+b);10>a&&(a="0"+a);return d+"-"+a+"-"+b}(),n="";l&&e.platform&&(n=platform.description||"",d.title=f+" ["+(k?" "+k:"")+(n?" "+n:"")+(b||c?" with":"")+(b?" touch":"")+(b&&c?",":"")+(c?" mousewheel":"")+"]");var u=d.getElementsByClassName("zoomwall")[0]||"",w=function(a,b,c){b=d.getElementById(b)||"";c=d.getElementById(c)||"";return(a=-1!==["boolean","number","string","symbol","function"].indexOf(typeof a)?
JSON.parse(a):a)&&b&&c?(new t(b.innerHTML||"")).render(a):{}},v=function(a,b,c){var e=d.body||"",h=function(){return c&&"function"===typeof c&&c()};try{var f=b.cloneNode(!1);if(d.createRange){var g=d.createRange();g.selectNode(e);var k=g.createContextualFragment(a);f.appendChild(k);return b.parentNode?b.parentNode.replaceChild(f,b):b.innerHTML=a,h()}f.innerHTML=a;return b.parentNode?b.parentNode.replaceChild(d.createDocumentFragment.appendChild(f),b):b.innerHTML=a,h()}catch(l){console.log(l)}},F=
function(a,b,c,e,h){h=h||"";var f=d.getElementById(b)||"",g=d.getElementById(c)||"",k=function(){return e&&"function"===typeof e&&e()};a&&f&&g&&(a=w(a,b,c),h?(g.innerHTML=a,k()):v(a,g,k))},G=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&++b;return b},H=function(a){return new Promise(function(b,c){var e;try{if(e=JSON.parse(a),e.pages[0].src)if(e.pages[0].width){if(!e.pages[0].height)throw Error("incomplete JSON data: no height");if(!e.pages[0].title)throw Error("incomplete JSON data: no title");
}else throw Error("incomplete JSON data: no width");else throw Error("incomplete JSON data: no src");}catch(h){console.log("cannot init generateGallery",h);return}var f=G(e.pages);F(e,"template_zoomwall","target_zoomwall",function(){f===d.getElementsByClassName("data-src-img").length?b():c()},!0)})},x,I=function(){clearTimeout(x);x=null;zoomwall.create(u,!0,"src",null,function(){u.style.visibility="visible";u.style.opacity=1})},y,J=function(){clearTimeout(y);y=null;echo("data-src-img","src")},f=new Headers;
fetch("./libs/contents-cards/json/contents.json",{headers:f,credentials:"same-origin"}).then(function(a){if(a.ok)return a.text();throw Error("cannot fetch","./libs/contents-cards/json/contents.json");}).then(function(a){H(a).then(function(a){return a}).then(function(a){x=setTimeout(I,200)}).then(function(a){y=setTimeout(J,200)})["catch"](function(a){console.log("Cannot create zoomwall gallery",a)})})["catch"](function(a){console.log("cannot parse","./libs/contents-cards/json/contents.json")});var z=
function(a,b){function c(){f=0;g=+new Date;h=a.apply(d,e);e=d=null}var d,e,h,f,g=0;return function(){d=this;e=arguments;var a=new Date-g;f||(a>=b?c():f=setTimeout(c,b-a));return h}},q=d.getElementsByClassName("title-bar")[0]||"",A=q.offsetHeight||0,f=d.getElementsByClassName("wrapper")[0]||"",B=function(){z(function(){(d.body.scrollTop||d.documentElement.scrollTop||0)>A?q.classList.add("is-hidden"):(q.classList.remove("is-fixed"),q.classList.remove("is-hidden"))},100)()},C=function(){z(function(){q.classList.remove("is-hidden");
(d.body.scrollTop||d.documentElement.scrollTop||0)>A?q.classList.add("is-fixed"):q.classList.remove("is-fixed")},100)()};f&&q&&(b?e.tocca&&(e.addEventListener("swipeup",B,{passive:!0}),e.addEventListener("swipedown",C,{passive:!0})):c&&e.WheelIndicator&&new WheelIndicator({elem:f,callback:function(a){"down"===a.direction&&B();"up"===a.direction&&C()},preventMouse:!1}));var K=function(a,b,c){function h(){l+=1/60;var a=l/m,b=n[k](a);1>a?(requestAnimationFrame(h),e.scrollTo(0,f+(g-f)*b)):e.scrollTo(0,
g)}var f=e.scrollY||d.documentElement.scrollTop,g=a||0,k=c||"easeOutSine",l=0,m=Math.max(.1,Math.min(Math.abs(f-g)/(b||2E3),.8)),n={easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}};h()},D=d.body||"",b=d.getElementsByClassName("btn-totop")[0]||"",c=function(a){a.stopPropagation();a.preventDefault();K(0,2E4);q&&q.classList.remove("is-hidden")},f=function(b){z(function(){var c=
d.getElementsByClassName("btn-totop")[0]||"",e=b.pageYOffset||a.scrollTop||D.scrollTop||"",f=b.innerHeight||a.clientHeight||D.clientHeight||"";e&&f&&c&&(e>f?c.classList.add("is-active"):c.classList.remove("is-active"))},100)()};b&&(b.addEventListener("click",c),e.addEventListener("scroll",f,{passive:!0}));g.finish();g.hide()},k=["./libs/picturewall/css/bundle.min.css"],l=function(a){var b=e.location.protocol||"";return"http:"===b?"http":"https:"===b?"https":a?"http":""}(!0);"classList"in d.createElement("_")||
k.push(l+"://cdn.jsdelivr.net/npm/classlist.js@1.1.20150312/classList.min.js");"undefined"!==typeof e.Element&&"dataset"in d.documentElement||k.push(l+"://cdn.jsdelivr.net/npm/element-dataset@2.2.6/lib/browser/index.cjs.min.js");(function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});e[addEventListener]("test",function(){},b)}catch(c){}return a})()||k.push(l+"://cdn.jsdelivr.net/npm/dom4@1.8.5/build/dom4.max.min.js");e.Promise||k.push(l+"://cdn.jsdelivr.net/es6-promise-polyfill/1.2.0/promise.min.js");
e.fetch||k.push(l+"://cdn.jsdelivr.net/fetch/2.0.1/fetch.min.js");k.push(l+"://cdn.jsdelivr.net/npm/platform@1.3.4/platform.min.js");b?k.push(l+"://cdnjs.cloudflare.com/ajax/libs/Tocca.js/2.0.1/Tocca.min.js"):a&&k.push("./cdn/wheel-indicator/1.1.4/js/wheel-indicator.fixed.min.js");new loadJsCss([l+"://fonts.googleapis.com/css?family=Roboto:400&subset=cyrillic"],function(){var a,b=function(){clearInterval(a);a=null;g.increase(20);new loadJsCss(k,c)},e=function(){doesFontExist("Roboto")&&b()};(function(){var a=
d.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))})()?a=setInterval(e,100):(a=null,b())})})("undefined"!==typeof window?window:this,document);
//# sourceMappingURL=bundle.min.js.map
