var globalRoot="undefined"!==typeof window?window:this;(function(a){a.console||(a.console={});a=a.console;for(var b,c=function(){},e=["memory"],f="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");b=e.pop();)a[b]||(a[b]={});for(;b=f.pop();)a[b]||(a[b]=c)})(globalRoot);
(function(a){var b=function(){var b=function(){var a=function(a,b){if(this.progress=0,this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2},a&&"object"===typeof a)for(var c in a)a.hasOwnProperty(c)&&(this.options[c]=a[c]);(this.options.opacityDuration=3*this.options.duration,this.progressBar=document.createElement("div"),this.progressBar.id=this.options.id,this.progressBar.setCSS=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.style[b]=a[b])},this.progressBar.setCSS({position:b?
"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"}),b)?(c=document.querySelector(b))&&(c.hasChildNodes()?c.insertBefore(this.progressBar,c.firstChild):
c.appendChild(this.progressBar)):document.body.appendChild(this.progressBar)},f=function(){var a=document.createElement("fakeelement"),b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},c;for(c in b)if(b.hasOwnProperty(c)&&void 0!==a.style[c])return b[c]}();return a.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"},a.prototype.getProgress=function(){return this.progress},a.prototype.setProgress=
function(a,b){this.show();this.progress=100<a?100:0>a?0:a;this.transit();b&&b()},a.prototype.increase=function(a,b){this.show();this.setProgress(this.progress+a,b)},a.prototype.decrease=function(a,b){this.show();this.setProgress(this.progress-a,b)},a.prototype.finish=function(a){var e=this;this.setProgress(100,a);this.hide();f&&this.progressBar.addEventListener(f,function(a){e.reset();e.progressBar.removeEventListener(a.type,b)})},a.prototype.reset=function(a){this.progress=0;this.transit();a&&a()},
a.prototype.hide=function(){this.progressBar.style.opacity="0"},a.prototype.show=function(){this.progressBar.style.opacity="1"},a};return b()}();a.ToProgress=b})(globalRoot);
(function(a){a.scroll2Top=function(b,c,e){function f(){h+=1/60;var c=h/l,n=k[e](c);1>c?(requestAnimationFrame(f),a.scrollTo(0,g+(b-g)*n)):a.scrollTo(0,b)}var g=a.scrollY||document.documentElement.scrollTop;b=b||0;e=e||"easeOutSine";var h=0,l=Math.max(.1,Math.min(Math.abs(g-b)/(c||2E3),.8)),k={easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}};f()}})(globalRoot);
(function(a){var b=function(){return function(a,b,f){function g(h,l,k){k=Object.create(g.fn);h&&k.push.apply(k,h[b]?[h]:""+h===h?/</.test(h)?((l=a.createElement(l||b)).innerHTML=h,l.children):l?(l=g(l)[0])?l[f](h):k:a[f](h):"function"===typeof h?a.readyState[7]?h():a[b]("DOMContentLoaded",h):h);return k}g.fn=[];g.one=function(a,b){return g(a,b)[0]||null};return g}(document,"addEventListener","querySelectorAll")}();a.BALA=b})(globalRoot);
(function(a,b){if("function"!==typeof a.createEvent)return!1;var c=function(a){var c=a.toLowerCase();return navigator.msPointerEnabled?"MS"+a:b.PointerEvent?c:!1},e={useJquery:!b.IGNORE_JQUERY&&"undefined"!==typeof jQuery,swipeThreshold:b.SWIPE_THRESHOLD||100,tapThreshold:b.TAP_THRESHOLD||150,dbltapThreshold:b.DBL_TAP_THRESHOLD||200,longtapThreshold:b.LONG_TAP_THRESHOLD||1E3,tapPrecision:b.TAP_PRECISION/2||30,justTouchEvents:b.JUST_ON_TOUCH_DEVICES},f=!1,g=c("PointerDown")||"touchstart",h=c("PointerUp")||
"touchend",c=c("PointerMove")||"touchmove",l=function(a){return!a.pointerId||"undefined"===typeof r||a.pointerId===r},k=function(a,b,c){b=b.split(" ");for(var e=b.length;e--;)a.addEventListener(b[e],c,!1)},m=function(b,c,f,g){var h=a.createEvent("Event");h.originalEvent=f;g=g||{};g.x=p;g.y=u;g.distance=g.distance;e.useJquery&&(h=jQuery.Event(c,{originalEvent:f}),jQuery(b).trigger(h,g));if(h.initEvent){for(var r in g)g.hasOwnProperty(r)&&(h[r]=g[r]);h.initEvent(c,!0,!0);b.dispatchEvent(h)}for(;b;){if(b["on"+
c])b["on"+c](h);b=b.parentNode}},n=0,r,p,u,q,t,v,w,x,y;k(a,g+(e.justTouchEvents?"":" mousedown"),function(a){if(l(a)&&(r=a.pointerId,"mousedown"!==a.type&&(f=!0),"mousedown"!==a.type||!f)){var b=a.targetTouches?a.targetTouches[0]:a;q=p=b.pageX;t=u=b.pageY;y=setTimeout(function(){m(a.target,"longtap",a);w=a.target},e.longtapThreshold);v=(new Date).getTime();n++}});k(a,h+(e.justTouchEvents?"":" mouseup"),function(a){if(l(a))if(r=void 0,"mouseup"===a.type&&f)f=!1;else{var b=[],c=(new Date).getTime(),
g=t-u,h=q-p;clearTimeout(x);clearTimeout(y);h<=-e.swipeThreshold&&b.push("swiperight");h>=e.swipeThreshold&&b.push("swipeleft");g<=-e.swipeThreshold&&b.push("swipedown");g>=e.swipeThreshold&&b.push("swipeup");if(b.length){for(c=0;c<b.length;c++)m(a.target,b[c],a,{distance:{x:Math.abs(h),y:Math.abs(g)}});n=0}else q>=p-e.tapPrecision&&q<=p+e.tapPrecision&&t>=u-e.tapPrecision&&t<=u+e.tapPrecision&&0<=v+e.tapThreshold-c&&(m(a.target,2<=n&&w===a.target?"dbltap":"tap",a),w=a.target),x=setTimeout(function(){n=
0},e.dbltapThreshold)}});k(a,c+(e.justTouchEvents?"":" mousemove"),function(a){!l(a)||"mousemove"===a.type&&f||(a=a.targetTouches?a.targetTouches[0]:a,p=a.pageX,u=a.pageY)});b.tocca=function(a){for(var b in a)a.hasOwnProperty(b)&&(e[b]=a[b]);return e}})(document,globalRoot);
(function(a){var b=function(){var b=[],e={},f=a.routie,g=function(a,b){this.name=b;this.path=a;this.keys=[];this.fns=[];this.params={};this.regex=h(this.path,this.keys,!1,!1)};g.prototype.addHandler=function(a){this.fns.push(a)};g.prototype.removeHandler=function(a){for(var b=0,c=this.fns.length;b<c;b++)if(a===this.fns[b]){this.fns.splice(b,1);break}};g.prototype.run=function(a){for(var b=0,c=this.fns.length;b<c;b++)this.fns[b].apply(this,a)};g.prototype.match=function(a,b){var c=this.regex.exec(a);
if(!c)return!1;for(var e=1,f=c.length;e<f;++e){var g=this.keys[e-1],h="string"===typeof c[e]?decodeURIComponent(c[e]):c[e];g&&(this.params[g.name]=h);b.push(h)}return!0};g.prototype.toURL=function(a){var b=this.path,c;for(c in a)a.hasOwnProperty(c)&&(b=b.replace("/:"+c,"/"+a[c]));b=b.replace(/\/:.*\?/g,"/").replace(/\?/g,"");if(-1!==b.indexOf(":"))throw Error("missing parameters for url: "+b);return b};var h=function(a,b,c,e){if(a instanceof RegExp)return a;a instanceof Array&&(a="("+a.join("|")+
")");a=a.concat(e?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(a,c,e,f,g,h){b.push({name:f,optional:!!h});c=c||"";return""+(h?"":c)+"(?:"+(h?c:"")+(e||"")+(g||e&&"([^/.]+?)"||"([^/]+?)")+")"+(h||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)");return new RegExp("^"+a+"$",c?"":"i")},l=function(a,f){var h=a.split(" "),k=2===h.length?h[0]:null;a=2===h.length?h[1]:h[0];e[a]||(e[a]=new g(a,k),b.push(e[a]));
e[a].addHandler(f)},k=function(a,b){if("function"===typeof b)l(a,b),k.reload();else if("object"===typeof a){for(var c in a)a.hasOwnProperty(c)&&l(c,a[c]);k.reload()}else"undefined"===typeof b&&k.navigate(a)};k.lookup=function(a,e){for(var f=0,g=b.length;f<g;f++){var h=b[f];if(h.name===a)return h.toURL(e)}};k.remove=function(a,b){var c=e[a];c&&c.removeHandler(b)};k.removeAll=function(){e={};b=[]};k.navigate=function(b,c){c=c||{};var e=c.silent||!1;e&&(a.removeEventListener?a.removeEventListener("hashchange",
m):a.detachEvent("onhashchange",m));setTimeout(function(){a.location.hash=b;e&&setTimeout(function(){n()},1)},1);a.setImmediate?setImmediate(function(){a.location.hash=b;e&&setImmediate(function(){n()})}):setTimeout(function(){a.location.hash=b;e&&setTimeout(function(){n()},1)},1)};k.noConflict=function(){a.routie=f;return k};var m=k.reload=function(){for(var e=a.location.hash.substring(1),f=0,g=b.length;f<g;f++){var h;h=b[f];var k=[];h.match(e,k)?(h.run(k),h=!0):h=!1;if(h)break}},n=function(){a.addEventListener?
a.addEventListener("hashchange",m,!1):a.attachEvent("onhashchange",m)};n();return k}();a.routie=b})(globalRoot);
(function(a){var b=function(){function a(){for(var b=0,c={};b<arguments.length;b++){var e=arguments[b],l;for(l in e)e.hasOwnProperty(l)&&(c[l]=e[l])}return c}function b(f){var g=function(b,e,k){var m;if("undefined"!==typeof document){if(1<arguments.length){k=a({path:"/"},g.defaults,k);if("number"===typeof k.expires){var n=new Date;n.setMilliseconds(n.getMilliseconds()+864E5*k.expires);k.expires=n}try{m=JSON.stringify(e),/^[\{\[]/.test(m)&&(e=m)}catch(v){}e=f.write?f.write(e,b):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,
decodeURIComponent);b=encodeURIComponent(String(b));b=b.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);b=b.replace(/[\(\)]/g,escape);return document.cookie=[b,"=",e,k.expires?"; expires="+k.expires.toUTCString():"",k.path?"; path="+k.path:"",k.domain?"; domain="+k.domain:"",k.secure?"; secure":""].join("")}b||(m={});for(var n=document.cookie?document.cookie.split("; "):[],r=/(%[0-9A-Z]{2})+/g,p=0;p<n.length;p++){var u=n[p].split("="),q=u.slice(1).join("=");'"'===q.charAt(0)&&(q=q.slice(1,
-1));try{var t=u[0].replace(r,decodeURIComponent),q=f.read?f.read(q,t):f(q,t)||q.replace(r,decodeURIComponent);if(this.json)try{q=JSON.parse(q)}catch(v){}if(b===t){m=q;break}b||(m[t]=q)}catch(v){}}return m}};g.set=g;g.get=function(a){return g.call(g,a)};g.getJSON=function(){return g.apply({json:!0},[].slice.call(arguments))};g.defaults={};g.remove=function(b,e){g(b,"",a(e,{expires:-1}))};g.withConverter=b;return g}return b(function(){})}();a.Cookies=b})(globalRoot);
(function(a){var b=function(){function b(){return{width:m(),height:n()}}function e(a,b){a=a&&!a.nodeType?a[0]:a;if(!a||1!==a.nodeType)return!1;var c=a.getBoundingClientRect(),e,f={};e=+b||0;f.width=(f.right=c.right+e)-(f.left=c.left-e);f.height=(f.bottom=c.bottom+e)-(f.top=c.top-e);return f}var f={},g="undefined"!==typeof a&&a,h="undefined"!==typeof document&&document,l=h&&h.documentElement,k=g.matchMedia||g.msMatchMedia,h=k?function(a){return!!k.call(g,a).matches}:function(){return!1},m=f.viewportW=
function(){var a=l.clientWidth,b=g.innerWidth;return a<b?b:a},n=f.viewportH=function(){var a=l.clientHeight,b=g.innerHeight;return a<b?b:a};f.mq=h;f.matchMedia=k?function(){return k.apply(g,arguments)}:function(){return{}};f.viewport=b;f.scrollX=function(){return g.pageXOffset||l.scrollLeft};f.scrollY=function(){return g.pageYOffset||l.scrollTop};f.rectangle=e;f.aspect=function(a){a=null===a?b():1===a.nodeType?e(a):a;var f=a.height,g=a.width,f="function"===typeof f?f.call(a):f,g="function"===typeof g?
g.call(a):g;return g/f};f.inX=function(a,b){var c=e(a,b);return!!c&&0<=c.right&&c.left<=m()&&0!==a.offsetHeight};f.inY=function(a,b){var c=e(a,b);return!!c&&0<=c.bottom&&c.top<=n()&&0!==a.offsetHeight};f.inViewport=function(a,b){var c=e(a,b);return!!c&&0<=c.bottom&&0<=c.right&&c.top<=n()&&c.left<=m()&&0!==a.offsetHeight};return f}();a.verge=b})(globalRoot);
(function(a){globalRoot.imagePromise=function(b){if(a.Promise)return new Promise(function(a,e){var f=function(b,f){b.onload=function(){a(f)};b.onerror=function(){e(f)};b.src=f};if("string"===typeof b){var g=new Image;f(g,b)}else{if("img"!==b.tagName)return Promise.reject();b.src&&f(b,b.src)}});throw Error("Promise is not in global object");}})(globalRoot);(function(a){a&&a.add("js")})(document.documentElement.classList||"");
(function(a,b){var c,e,f=function(a){var c=a.split(" ");if(b)for(var e=0;e<c.length;e+=1)a=c[e],b.add(a)},g=function(a){var c=a.split(" ");if(b)for(var e=0;e<c.length;e+=1)a=c[e],b.remove(a)},h={landscape:"all and (orientation:landscape)",portrait:"all and (orientation:portrait)"},l={small:"all and (max-width:768px)",medium:"all and (min-width:768px) and (max-width:991px)",large:"all and (min-width:992px)"},k,m=function(a,b){var e=function(a){a.matches?(f(b),c=b):g(b)};e(a);a.addListener(e)},n=function(a,
b){var c=function(a){a.matches?(f(b),e=b):g(b)};c(a);a.addListener(c)};for(k in h)h.hasOwnProperty(k)&&m(a.matchMedia(h[k]),k);for(k in l)l.hasOwnProperty(k)&&n(a.matchMedia(l[k]),k);a.earlyDeviceOrientation=c||"";a.earlyDeviceSize=e||""})(globalRoot,document.documentElement.classList||"");
(function(a,b,c,e,f){c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(f)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(f.substr(0,
4))?c:e;b&&b.classList.add(c);a.earlyDeviceType=c||""})(globalRoot,document.documentElement||"","mobile","desktop",navigator.userAgent||navigator.vendor||globalRoot.opera);(function(a,b,c){c=document.implementation.hasFeature("http://www.w3.org/2000/svg","1.1")?c:"no-"+c;b&&b.classList.add(c);a.earlySvgSupport=c||""})(globalRoot,document.documentElement||"","svg");
(function(a,b,c){c=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")?c:"no-"+c;b&&b.classList.add(c);a.earlySvgasimgSupport=c||""})(globalRoot,document.documentElement||"","svgasimg");(function(a,b,c){c="ontouchstart"in b?c:"no-"+c;b&&b.classList.add(c);a.earlyHasTouch=c||""})(globalRoot,document.documentElement||"","touch");
(function(a){var b=new Date,c=b.getDate(),e=b.getFullYear(),b=b.getMonth(),b=b+1;10>c&&(c="0"+c);10>b&&(b="0"+b);a.earlyFnGetYyyymmdd=e+"-"+b+"-"+c})(globalRoot);
var initialDocumentTitle=document.title||"",userBrowsingDetails=" ["+(earlyFnGetYyyymmdd?earlyFnGetYyyymmdd:"")+(earlyDeviceType?" "+earlyDeviceType:"")+(earlyDeviceSize?" "+earlyDeviceSize:"")+(earlyDeviceOrientation?" "+earlyDeviceOrientation:"")+(earlySvgSupport?" "+earlySvgSupport:"")+(earlySvgasimgSupport?" "+earlySvgasimgSupport:"")+(earlyHasTouch?" "+earlyHasTouch:"")+"]";document.title&&(document.title+=userBrowsingDetails);
(function(a){a.forEach=function(a,c,e){var f=-1,g=function(a){a=+a;if(!isFinite(a)||!a)return 0;a=Math.floor(a);var b=Math.pow(2,32);return a-b*Math.floor(a/b)}(a.length);(function l(k){var m;k=!1===k;do++f;while(!(f in a)&&f!==g);k||f===g?e&&e(!k,a):(k=c.call({async:function(){m=!0;return l}},a[f],f,a),m||l(k))})()}})(globalRoot);
(function(a){var b=function(a){this.ids=a||[]};b.prototype.timeout=function(a,b){var f=setTimeout(a,b);this.ids.push(f);return f};b.prototype.interval=function(a,b){var f=setInterval(a,b);this.ids.push(f);return f};b.prototype.clear=function(){this.ids.forEach(clearTimeout);this.ids=[]};a.Timers=b})(globalRoot);
(function(a,b){a.debounce=function(a,e,f){function g(){var b=Date.now()-m;b<e&&0<=b?h=setTimeout(g,e-b):(h=null,f||(n=a.apply(k,l),k=l=null))}var h,l,k,m,n;if(b===e||null===e)e=100;var r=function(){k=this;l=arguments;m=Date.now();var b=f&&!h;h||(h=setTimeout(g,e));b&&(n=a.apply(k,l),k=l=null);return n};r.clear=function(){h&&(clearTimeout(h),h=null)};r.flush=function(){h&&(n=a.apply(k,l),k=l=null,clearTimeout(h),h=null)};return r}})(globalRoot);
(function(a,b){a.throttle=function(a,b){function f(){k=0;m=+new Date;l=a.apply(g,h);h=g=null}var g,h,l,k,m=0;return function(){g=this;h=arguments;var a=new Date-m;k||(a>=b?f():k=setTimeout(f,b-a));return l}}})(globalRoot);
(function(a,b){a.ready=b})(globalRoot.document,function(a){var b=document,c=globalRoot,e=/^loaded|^i|^c/.test(b.readyState);return new Promise(function(f){function g(){f(a);b.removeEventListener("DOMContentLoaded",g);c.removeEventListener("load",g)}if(e)return f(a);b.addEventListener("DOMContentLoaded",g);c.addEventListener("load",g)})});
(function(a){a.insertExternalHTML=function(b,c,e,f){var g=document,h=g.body||"",l=g.getElementById(b.replace(/^#/,""))||"",k=function(){return e&&"function"===typeof e&&e()},m=function(a){try{var b=l.cloneNode(!1);if(g.createRange){var c=g.createRange();c.selectNode(h);var e=c.createContextualFragment(a);b.appendChild(e);return l.parentNode?l.parentNode.replaceChild(b,l):l.innerHTML=a,k()}b.innerHTML=a;return l.parentNode?l.parentNode.replaceChild(g.createDocumentFragment.appendChild(b),l):l.innerHTML=
a,k()}catch(f){console.log(f)}return!1};l&&function(){if(!a.Promise||!a.fetch||a.chrome||"undefined"!==typeof a&&a.process&&"renderer"===a.process.type){var b=a.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");b.overrideMimeType("text/html;charset=utf-8");b.open("GET",c,!0);b.withCredentials=!1;b.onreadystatechange=function(){if("404"===b.status||0===b.status)return console.log("Error XMLHttpRequest-ing file",b.status),f&&"function"===typeof f&&f();4===b.readyState&&200===
b.status&&b.responseText&&m(b.responseText)};b.send(null)}else fetch(c).then(function(a){if(!a.ok)if(f&&"function"===typeof f)f();else throw Error(a.statusText);return a}).then(function(a){return a.text()}).then(function(a){m(a)})["catch"](function(a){console.log("Error fetch-ing file "+c,a)})}()}})(globalRoot);(function(a){a.scriptIsLoaded=function(a){for(var c=document.getElementsByTagName("script")||"",e=0;e<c.length;e+=1)if(c[e].getAttribute("src")===a)return!0;return!1}})(globalRoot);
(function(a){a.loadTriggerJS=function(b,c,e){var f=function(c){try{(new Function(""+c)).call(a)}catch(e){throw Error("Error evaluating file "+b,e);}};if(!a.Promise||!a.fetch||a.chrome||"undefined"!==typeof a&&a.process&&"renderer"===a.process.type){var g=a.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");g.overrideMimeType("application/javascript;charset=utf-8");g.open("GET",b,!0);g.withCredentials=!1;g.onreadystatechange=function(){if("404"===g.status||0===g.status)return console.log("Error XMLHttpRequest-ing file "+
b,g.status),e&&"function"===typeof e&&e();4===g.readyState&&200===g.status&&g.responseText&&(f(g.responseText),c&&"function"===typeof c&&c(g.responseText))};g.send(null)}else fetch(b).then(function(a){if(!a.ok)if(e&&"function"===typeof e)e();else throw Error(a.statusText);return a}).then(function(a){return a.text()}).then(function(a){f(a);c&&"function"===typeof c&&c(a)})["catch"](function(a){console.log("Error fetch-ing file "+b,a)})}})(globalRoot);
(function(a){a.loadUnparsedJSON=function(b,c,e){if(!a.Promise||!a.fetch||a.chrome||"undefined"!==typeof a&&a.process&&"renderer"===a.process.type){var f=a.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");f.overrideMimeType("application/json;charset=utf-8");f.open("GET",b,!0);f.withCredentials=!1;f.onreadystatechange=function(){if("404"===f.status||0===f.status)return console.log("Error XMLHttpRequest-ing file",f.status),e&&"function"===typeof e&&e();4===f.readyState&&200===
f.status&&f.responseText&&c&&"function"===typeof c&&c(f.responseText)};f.send(null)}else fetch(b).then(function(a){if(!a.ok)if(e&&"function"===typeof e)e();else throw Error(a.statusText);return a}).then(function(a){return a.text()}).then(function(a){c&&"function"===typeof c&&c(a)})["catch"](function(a){console.log("Error fetch-ing file "+b,a)})}})(globalRoot);(function(a){a.safelyParseJSON=function(a){return-1!==["boolean","number","string","symbol","function"].indexOf(typeof a)?JSON.parse(a):a}})(globalRoot);
(function(a){var b=function(a,e){var f=[],g;for(g in a)a.hasOwnProperty(g)&&("object"===typeof a[g]?f=f.concat(b(a[g],e)):g===e&&f.push(a[g]));return f};a.getKeyValuesFromJSON=b})(globalRoot);(function(a){a.truncString=function(a,c,e){e=e||"…";return"string"===typeof a&&a.length>c?a.substring(0,c)+e:a}})(globalRoot);
(function(a){a.fixEnRuTypo=function(a,c,e){var f="";"ru"===c&&"en"===e?(c='абвгдеёжзийклмнопрстуфхцчшщъьыэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЬЫЭЮЯ"№;:?/.,',e="f,dult`;pbqrkvyjghcnea[wxio]ms'.zF<DULT~:PBQRKVYJGHCNEA{WXIO}MS'>Z@#$^&|/?"):(c="f,dult`;pbqrkvyjghcnea[wxio]ms'.zF<DULT~:PBQRKVYJGHCNEA{WXIO}MS'>Z@#$^&|/?",e='абвгдеёжзийклмнопрстуфхцчшщъьыэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЬЫЭЮЯ"№;:?/.,');for(var g=0;g<a.length;g++)var h=c.indexOf(a.charAt(g)),f=f>h?f+a.charAt(g):f+e.charAt(h);return f}})(globalRoot);
(function(a){a.loadExternalHTML=function(b,c,e){if(!a.Promise||!a.fetch||a.chrome||"undefined"!==typeof a&&a.process&&"renderer"===a.process.type){var f=a.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");f.overrideMimeType("text/html;charset=utf-8");f.open("GET",b,!0);f.withCredentials=!1;f.onreadystatechange=function(){if("404"===f.status||0===f.status)return console.log("Error XMLHttpRequest-ing file "+b,f.status),e&&"function"===typeof e&&e();4===f.readyState&&200===f.status&&
f.responseText&&c&&"function"===typeof c&&c(f.responseText)};f.send(null)}else fetch(b).then(function(a){if(!a.ok)if(e&&"function"===typeof e)e();else throw Error(a.statusText);return a}).then(function(a){return a.text()}).then(function(a){c&&"function"===typeof c&&c(a)})["catch"](function(a){console.log("Error fetch-ing file "+b,a)})}})(globalRoot);(function(a){a.removeElement=function(a){if(a)return"undefined"!==typeof a.remove?a.remove():a.parentNode&&a.parentNode.removeChild(a)}})(globalRoot);
(function(a){a.removeChildren=function(a){if(a&&a.firstChild)for(;a.firstChild;)a.removeChild(a.firstChild)}})(globalRoot);
(function(a){a.insertTextAsFragment=function(a,c,e){var f=document,g=f.body||"",h=function(){return e&&"function"===typeof e&&e()};try{var l=c.cloneNode(!1);if(f.createRange){var k=f.createRange();k.selectNode(g);var m=k.createContextualFragment(a);l.appendChild(m);return c.parentNode?c.parentNode.replaceChild(l,c):c.innerHTML=a,h()}l.innerHTML=a;return c.parentNode?c.parentNode.replaceChild(f.createDocumentFragment.appendChild(l),c):c.innerHTML=a,h()}catch(n){console.log(n)}return!1}})(globalRoot);
(function(a){a.appendFragment=function(a,c){var e=document;c=c||e.getElementsByTagNames("body")[0]||"";if(a){var e=document,f=e.createDocumentFragment()||"";"string"===typeof a&&(a=e.createTextNode(a));f.appendChild(a);c.appendChild(f)}}})(globalRoot);(function(a){a.setStyleDisplayBlock=function(a){a&&(a.style.display="block")}})(globalRoot);(function(a){a.setStyleDisplayNone=function(a){a&&(a.style.display="none")}})(globalRoot);
(function(a){a.setStyleOpacity=function(a,c){a&&(a.style.opacity=c||1)}})(globalRoot);(function(a){a.isValidId=function(a,c){return c?/^\#[A-Za-z][-A-Za-z0-9_:.]*$/.test(a)?!0:!1:/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(a)?!0:!1}})(globalRoot);
(function(a){a.findPos=function(b){b=b.getBoundingClientRect();var c=document.body,e=document.documentElement;return{top:Math.round(b.top+(a.pageYOffset||e.scrollTop||c.scrollTop)-(e.clientTop||c.clientTop||0)),left:Math.round(b.left+(a.pageXOffset||e.scrollLeft||c.scrollLeft)-(e.clientLeft||c.clientLeft||0))}}})(globalRoot);(function(a){a.changeLocation=function(a){a&&(document.location.href=a)}})(globalRoot);
(function(a){a.parseLink=function(b,c){c=c||!1;return function(){var e=function(a){return a.replace(/^(#|\?)/,"").replace(/\:$/,"")},f=location||"",g=0===b.indexOf("//")||!!~b.indexOf("://"),h=a.location||"",l=function(){return h.protocol+"//"+h.hostname+(h.port?":"+h.port:"")||""},k=document.createElement("a");k.href=b;var m=k.href,n=l(),r=k.host||f.host,p;if("0"===k.port||""===k.port)a:switch(k.protocol){case "http:":p=c?":80":80;break a;case "https:":p=c?":443":443;break a;default:p=c?":"+f.port:
f.port}else p=c?k.port:e(k.port);return{href:m,origin:n,host:r,port:p,hash:c?k.hash:e(k.hash),hostname:k.hostname||f.hostname,pathname:"/"!==k.pathname.charAt(0)?c?"/"+k.pathname:k.pathname:c?k.pathname:k.pathname.slice(1),protocol:k.protocol&&":"!==k.protocol?c?k.protocol:e(k.protocol):c?f.protocol:e(f.protocol),search:c?k.search:e(k.search),query:c?k.search:e(k.search),isAbsolute:g,isRelative:!g,isCrossDomain:function(){var a=document.createElement("a");a.href=b;return a.protocol+"//"+a.hostname+
(a.port?":"+a.port:"")!==l()}(),hasHTTP:/^(http|https):\/\//i.test(b)?!0:!1}}()}})(globalRoot);(function(a){var b=function(a){return function(b){return"http:"===a?"http":"https:"===a?"https":b?"http":""}}(a.location.protocol||"");a.getHTTP=b})(globalRoot);
(function(a){var b="undefined"!==typeof process&&"undefined"!==typeof require||"",c="undefined"!==typeof a&&a.process&&"renderer"===a.process.type||"",e;a:{if("undefined"!==typeof b&&b)try{if("undefined"!==typeof require("nw.gui")){e=!0;break a}}catch(f){}e=!1}a.openDeviceBrowser=function(b){var g=function(){var a=c?require("electron").shell:"";return a?a.openExternal(b):""},h=function(){var a=e?require("nw.gui").Shell:"";return a?a.openExternal(b):""};c?g():e?h():(g=a.location.protocol||"",(!g||
"http:"!==g&&"https:"!==g)&&a.open(b,"_system","scrollbars=1,location=no"))}})(globalRoot);var progressBar=new ToProgress({id:"top-progress-bar",color:"#FF2C40",height:"3px",duration:.2});progressBar.init=function(a){return this.increase(a||20)};progressBar.complete=function(){return this.finish(),this.hide()};progressBar.init();
var LoadingSpinner=function(){var a=document,b=a.body||"",c=a.querySelector(".loading-spinner")||"";c||(c=a.createElement("div"),c.classList.add("loading-spinner"),appendFragment(c,b));return{show:function(){return b.classList.contains("is-active-loading-spinner")||b.classList.add("is-active-loading-spinner")},hide:function(a,c){c=c||500;var g=new Timers;g.timeout(function(){g.clear();g=null;b.classList.remove("is-active-loading-spinner");a&&"function"===typeof a&&a()},c)}}}(),notiBar=function(a){var b=
document,c=b.body||"",e=b.querySelector(".notibar")||"";if(c){"string"===typeof a&&(a={message:a});var f={message:"",timeout:1E4,key:"_notibar_dismiss_",datum:"ok",days:0},g;for(g in a)a.hasOwnProperty(g)&&(f[g]=a[g]);if((a=Cookies.get(f.key)||"")&&a===decodeURIComponent(f.datum))return!1;e?removeChildren(e):(e=b.createElement("div"),e.classList.add("notibar"),e.classList.add("animated"));a=b.createElement("div");a.classList.add("message");g=f.message||"";"string"===typeof g&&(g=b.createTextNode(g));
a.appendChild(g);e.appendChild(a);var h=b.createElement("a");h.classList.add("close");(function(a){var c=b.createElementNS("http://www.w3.org/2000/svg","svg"),e=b.createElementNS("http://www.w3.org/2000/svg","use");c.classList.add("ui-icon");e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#ui-icon-Cancel");c.appendChild(e);a.appendChild(c)})(h);var l=function(){var a=b.querySelector(".notibar")||"";a&&(a.classList.remove("fadeInDown"),a.classList.add("fadeOutUp"),removeChildren(a))},
k=function(){h.removeEventListener("click",k);l();f.days?Cookies.set(f.key,f.datum,{expires:f.days}):Cookies.set(f.key,f.datum)};h.addEventListener("click",k);e.appendChild(h);appendFragment(e,c);e.classList.remove("fadeOutUp");e.classList.add("fadeInDown");var m=new Timers;m.timeout(function(){m.clear();m=null;l()},f.timeout)}},initNotibarMsg=function(){var a=document,b=function(){var b=a.createElement("a");b.href="javascript:void(0);";var c=function(g){g.stopPropagation();g.preventDefault();b.removeEventListener("click",
c);scroll2Top(findPos(a.getElementById("disqus_thread")).top,2E4)};b.addEventListener("click",c);b.appendChild(a.createTextNode("Напишите мне, отвечу очень скоро. Регистрироваться не нужно."));notiBar({message:b,timeout:5E3,key:"_notibar_dismiss_",datum:"Напишите мне, отвечу очень скоро. Регистрироваться не нужно.",days:0})};if(parseLink(globalRoot.location.href).origin&&"undefined"!==typeof getHTTP&&getHTTP()){var c=new Timers;c.timeout(function(){c.clear();c=null;b()},3E3)}};document.ready().then(initNotibarMsg);
var Notifier42=function(a,b,c){a=a||"No message passed as argument";b=b||0;c=c||"";var e=document,f=e.body||"",g=BALA.one(".notifier42")||"";g||(g=e.createElement("div"),appendFragment(g,f));g.classList.add("notifier42");g.classList.add("animated");g.classList.add("fadeInUp");c&&g.classList.add(c);"string"===typeof a&&(a=e.createTextNode(a));appendFragment(a,g);var h=function(a){g.classList.remove("fadeInUp");g.classList.add("fadeOutDown");var b=new Timers;b.timeout(function(){b.clear();b=null;g.classList.remove("animated");
g.classList.remove("fadeOutDown");c&&g.classList.remove(c);removeChildren(g);a&&"function"===typeof a&&a()},400)};g.addEventListener("click",function m(){this.removeEventListener("click",m);h()});if(0!==b){var l=new Timers;l.timeout(function(){l.clear();l=null;h()},b)}return{destroy:function(){return h(removeElement.bind(null,g))}}},initNotifier42WriteMe=function(){if("undefined"!==typeof getHTTP&&getHTTP()){var a=document,b=parseLink(globalRoot.location.href).origin,c=function(){var b=a.createElement("a");
b.href="javascript:void(0);";appendFragment("Напишите мне, отвечу очень скоро. Регистрироваться не нужно.",b);var c=function(e){e.stopPropagation();e.preventDefault();b.removeEventListener("click",c);scroll2Top(findPos(a.getElementById("disqus_thread")).top,2E4)};b.addEventListener("click",c);Notifier42(b,5E3);Cookies.set("_notifier42_write_me_","Напишите мне, отвечу очень скоро. Регистрироваться не нужно.")};if(!Cookies.get("_notifier42_write_me_")&&b){var e=new Timers;e.timeout(function(){e.clear();
e=null;c()},8E3)}}};document.ready().then(initNotifier42WriteMe);
var initSidepanel=function(){var a=document.body||"",b=BALA.one(".btn-toggle-ui-sidepanel")||"",c=BALA.one(".page")||"",e=BALA.one(".container")||"",f=BALA.one(".page-overlay")||"";if(a&&b&&c&&e){var g=function(){c.classList.contains("is-active-holder-location-qr-code")&&c.classList.remove("is-active-holder-location-qr-code");c.classList.contains("is-active-holder-vk-like")&&c.classList.remove("is-active-holder-vk-like");c.classList.contains("is-active-holder-share-buttons")&&c.classList.remove("is-active-holder-share-buttons");
c.classList.contains("is-active-ui-menumore")&&c.classList.remove("is-active-ui-menumore")},h=function(){c.classList.contains("is-active-ui-sidepanel")&&c.classList.remove("is-active-ui-sidepanel");g()},l=function(){c.classList.contains("is-active-ui-sidepanel")||c.classList.add("is-active-ui-sidepanel");g()};b.addEventListener("click",function(a){a.stopPropagation();a.preventDefault();c.classList.toggle("is-active-ui-sidepanel");g()});"undefined"!==typeof earlyHasTouch&&"touch"===earlyHasTouch&&
(f.addEventListener("swipeleft",h),e.addEventListener("swiperight",l));if(b=BALA.one(".ui-sidepanel li")||"")for(b=BALA(".ui-sidepanel li")||"",e=0,f=b.length;e<f;e+=1)b[e].addEventListener("click",h);a.addEventListener("click",h)}};document.ready().then(initSidepanel);var highlightSidepanelItem=function(){var a=globalRoot,b=BALA.one(".ui-sidepanel-list")||"",c=BALA("a",b)||"",a=a.location.href||"";if(b&&c&&a)for(var b=0,e=c.length;b<e;b+=1){var f=c[b];f.href===a?f.classList.add("is-active"):f.classList.remove("is-active")}};
document.ready().then(highlightSidepanelItem);globalRoot.addEventListener("hashchange",highlightSidepanelItem);
var initMenumore=function(){var a=BALA.one(".btn-toggle-ui-menumore")||"",b=BALA.one(".page")||"";if(a&&b){var c=function(){b.classList.contains("is-active-holder-location-qr-code")&&b.classList.remove("is-active-holder-location-qr-code");b.classList.contains("is-active-holder-vk-like")&&b.classList.remove("is-active-holder-vk-like");b.classList.contains("is-active-holder-share-buttons")&&b.classList.remove("is-active-holder-share-buttons");b.classList.contains("is-active-ui-sidepanel")&&b.classList.remove("is-active-ui-sidepanel")};
a.addEventListener("click",function(a){a.stopPropagation();a.preventDefault();b.classList.toggle("is-active-ui-menumore");c()});var a=function(){b.classList.contains("is-active-ui-menumore")&&b.classList.remove("is-active-ui-menumore");c()},e=BALA.one(".ui-menumore li")||"";if(e)for(var e=BALA(".ui-menumore li")||"",f=0,g=e.length;f<g;f+=1)e[f].addEventListener("click",a)}};document.ready().then(initMenumore);
var handleExternalLink=function(a,b){b.stopPropagation();b.preventDefault();openDeviceBrowser(a)},manageExternalLinks=function(a){var b=(a=a&&a.nodeName?a:"")?BALA.one("a",a)||"":BALA.one("a")||"";if(b){b=a?BALA("a",a)||"":BALA("a")||"";a=0;for(var c=b.length;a<c;a+=1){var e=b[a],f=e.getAttribute("href")||"";f&&parseLink(f).isCrossDomain&&parseLink(f).hasHTTP&&(e.title=""+(parseLink(f).hostname||"")+" откроется в новой вкладке","undefined"!==typeof getHTTP&&getHTTP()?(e.target="_blank",e.rel="noopener"):
e.addEventListener("click",handleExternalLink.bind(null,f)))}}};document.ready().then(manageExternalLinks);
var hideImgLightbox=function(){var a=document.querySelector(".img-lightbox-container")||"",b=a?a.getElementsByTagName("img")[0]||"":"";if(a&&b){b.classList.remove("fadeInUp");b.classList.add("fadeOutDown");var c=function(){a.classList.remove("fadeIn");a.classList.add("fadeOut");var c=new Timers;c.timeout(function(){c.clear();c=null;a.classList.remove("animated");a.classList.remove("fadeOut");b.classList.remove("animated");b.classList.remove("fadeOutDown");b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";
a.style.display="none"},400)},e=new Timers;e.timeout(function(){e.clear();e=null;c()},400)}},handleImgLightboxContainer=function(){container&&(container.removeEventListener("click",handleImgLightboxContainer),hideImgLightbox())},handleImgLightboxWindow=function(a){globalRoot.removeEventListener("keyup",handleImgLightboxWindow);27===(a.which||a.keyCode)&&hideImgLightbox()},manageImgLightboxLinks=function(a){a=a&&a.nodeName?a:"";var b=globalRoot,c=document,e=c.body||"",f=a?a.getElementsByClassName("img-lightbox-link")||
"":c.getElementsByClassName("img-lightbox-link")||"",g=c.getElementsByClassName("img-lightbox-container")[0]||"",h=g?g.getElementsByTagName("img")[0]||"":"";g||(g=c.createElement("div"),h=c.createElement("img"),h.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",h.alt="",g.appendChild(h),g.classList.add("img-lightbox-container"),appendFragment(g,e));var l=function(a){a.stopPropagation();a.preventDefault();var c=this;debounce(function(){var a=
c.getAttribute("href")||"";g&&h&&a&&(LoadingSpinner.show(),g.classList.add("animated"),g.classList.add("fadeIn"),h.classList.add("animated"),h.classList.add("fadeInUp"),parseLink(a).isAbsolute&&!parseLink(a).hasHTTP&&(a=a.replace(/^/,getHTTP(!0)+":")),imagePromise(a).then(function(b){h.src=a})["catch"](function(a){}),b.addEventListener("keyup",handleImgLightboxWindow),g.addEventListener("click",handleImgLightboxContainer),g.style.display="block",LoadingSpinner.hide())},200)()};f&&function(){for(var a=
0,b=f.length;a<b;a+=1){var c=f[a];if(!c.classList.contains("is-binded")){var e=c.getAttribute("href")||"";e&&(parseLink(e).isAbsolute&&!parseLink(e).hasHTTP&&c.setAttribute("href",e.replace(/^/,getHTTP(!0)+":")),c.addEventListener("click",l),c.classList.add("is-binded"))}}}()},handleDataSrcImages=function(){var a=document.getElementsByClassName("data-src-img")||"",b=function(a){if(!a.classList.contains("is-binded")){var b=a.dataset.src||"";b&&(parseLink(b).isAbsolute&&!parseLink(b).hasHTTP&&(a.dataset.src=
b.replace(/^/,getHTTP(!0)+":"),b=a.dataset.src),imagePromise(b).then(function(f){a.src=b})["catch"](function(a){}),a.classList.add("is-active"),a.classList.add("is-binded"))}};a&&function(){for(var c=0,e=a.length;c<e;c+=1){var f=a[c];verge.inY(f,100)&&b(f)}}()},handleDataSrcImagesWindow=function(){throttle(handleDataSrcImages,100)()},manageDataSrcImages=function(){var a=globalRoot;a.removeEventListener("scroll",handleDataSrcImagesWindow);a.removeEventListener("resize",handleDataSrcImagesWindow);a.addEventListener("scroll",
handleDataSrcImagesWindow);a.addEventListener("resize",handleDataSrcImagesWindow);var b=new Timers;b.timeout(function(){b.clear();b=null;handleDataSrcImages()},100)};document.ready().then(manageDataSrcImages);
var manageDataQrcodeImg=function(a){a=a&&a.nodeName?a:"";var b=globalRoot,c=a?BALA.one("img[data-qrcode]",a)||"":BALA.one("img[data-qrcode]")||"";if(c){c=a?BALA("img[data-qrcode]",a)||"":BALA("img[data-qrcode]")||"";a=0;for(var e=c.length;a<e;a+=1){var f=c[a],g=f.dataset.qrcode||"";if(g=decodeURIComponent(g)){var h=getHTTP(!0)+"://chart.googleapis.com/chart?cht=qr&chld=M%7C4&choe=UTF-8&chs=300x300&chl="+encodeURIComponent(g);f.title=g;f.alt=g;b.QRCode&&("undefined"!==typeof earlySvgSupport&&"svg"===
earlySvgSupport?(h=QRCode.generateSVG(g,{ecclevel:"M",fillcolor:"#F3F3F3",textcolor:"#191919",margin:4,modulesize:8}),h=(new XMLSerializer).serializeToString(h),h="data:image/svg+xml;base64,"+b.btoa(unescape(encodeURIComponent(h)))):h=QRCode.generatePNG(g,{ecclevel:"M",format:"html",fillcolor:"#F3F3F3",textcolor:"#191919",margin:4,modulesize:8}));f.src=h}}}},loadManageDataQrcodeImg=function(a){a=a&&a.nodeName?a:"";scriptIsLoaded("../cdn/qrjs2/0.1.3/js/qrjs2.fixed.min.js")?manageDataQrcodeImg(a):loadJS("../cdn/qrjs2/0.1.3/js/qrjs2.fixed.min.js",
manageDataQrcodeImg.bind(null,a))},handleChaptersSelect=function(){var a=document,b=this.options[this.selectedIndex].value||"",a=b?isValidId(b,!0)?a.getElementById(b.replace(/^#/,""))||"":"":"";b&&(a?scroll2Top(findPos(a).top,2E4):changeLocation(b))},manageChaptersSelect=function(a){(a=(a=a&&a.nodeName?a:"")?BALA.one("#chapters-select",a)||"":BALA.one("#chapters-select")||"")&&a.addEventListener("change",handleChaptersSelect)},manageSearchInput=function(){var a=BALA.one("#text")||"",b=function(){this.value=
this.value.replace(/\\/g,"").replace(/ +(?= )/g," ").replace(/\/+(?=\/)/g,"/")||""},c=function(a){a.focus();a.addEventListener("input",b)};a&&c(a)};document.ready().then(manageSearchInput);
var handleExpandingLayers=function(){var a=this.parentNode?this.parentNode.nextElementSibling:"";a&&(this.classList.toggle("is-active"),a.classList.toggle("is-active"));return!1},manageExpandingLayers=function(a){var b=(a=a&&a.nodeName?a:"")?BALA.one(".btn-expand-hidden-layer",a)||"":BALA.one(".btn-expand-hidden-layer")||"";if(b){b=a?BALA(".btn-expand-hidden-layer",a)||"":BALA(".btn-expand-hidden-layer")||"";a=0;for(var c=b.length;a<c;a+=1)b[a].addEventListener("click",handleExpandingLayers)}},includeHTMLintoTarget=
function(a,b,c){var e=BALA.one(c)||"",f=e.parentNode||"";e&&function(){var c=function(){a.parentNode?setStyleDisplayNone(a.parentNode):setStyleDisplayNone(a)},h=function(a){insertTextAsFragment(a,e,function(){c();f&&(manageExternalLinks(f),manageDataSrcImages(f),manageImgLightboxLinks(f))})};loadExternalHTML(b,function(a){h(a)},function(a){c();setStyleDisplayNone(e)})}()},manageDataTargetLinks=function(a){var b=(a=a&&a.nodeName?a:"")?BALA.one("[data-target]",a)||"":BALA.one("[data-target]")||"",c=
function(a){var b=a.dataset.include||"",c=a.dataset.target||"";if(b&&c){a.title="Появится здесь же";var h=function(l){l.stopPropagation();l.preventDefault();a.removeEventListener("click",h);includeHTMLintoTarget(a,b,c)};a.addEventListener("click",h)}};b&&function(){b=a?BALA("[data-target]",a)||"":BALA("[data-target]")||"";for(var e=0,f=b.length;e<f;e+=1)c(b[e])}()},hideDebugGrid=function(){var a=BALA.one(".container")||"";a&&(a.classList.remove("debug"),a.removeEventListener("click",hideDebugGrid))},
showDebugGridMesage=function(){for(var a=globalRoot,b=document.body||"",c=BALA.one(".page")||"",e=BALA.one(".container")||"",f=BALA.one(".col")||"",b=[b,c,e,f],c=[],e=0,f=b.length;e<f;e+=1)b[e]&&c.push(b[e].className?"."+b[e].className:b[e].id?"#"+b[e].id:b[e].tagName," ",a.getComputedStyle(b[e]).getPropertyValue("font-size")," ",a.getComputedStyle(b[e]).getPropertyValue("line-height")," ",b[e].offsetWidth,"x",b[e].offsetHeight," > ");c=c.join("");c=c.slice(0,c.lastIndexOf(" > "));notiBar({message:c,
timeout:1E4,days:0})},manageDebugGridButton=function(){var a=globalRoot,b=BALA.one(".container")||"",c=BALA.one(".btn-toggle-col-debug")||"";c&&b&&((a=a.location.href||"")&&parseLink(a).hasHTTP&&/^(localhost|127.0.0.1)/.test(parseLink(a).hostname)?c.addEventListener("click",function(a){a.stopPropagation();a.preventDefault();b.classList.toggle("debug");b.classList.contains("debug")?(b.addEventListener("click",hideDebugGrid),showDebugGridMesage()):b.removeEventListener("click",hideDebugGrid)}):setStyleDisplayNone(c))};
document.ready().then(manageDebugGridButton);
var generateLocationQrCodeImg=function(){var a=globalRoot,b=document,c=BALA.one(".holder-location-qr-code")||"",e=a.location.href||"",f=b.createElement("img"),b=b.title?"Ссылка на страницу «"+b.title.replace(/\[[^\]]*?\]/g,"").trim()+"»":"",g=getHTTP(!0)+"://chart.googleapis.com/chart?cht=qr&chld=M%7C4&choe=UTF-8&chs=300x300&chl="+encodeURIComponent(e);f.alt=b;a.QRCode&&("undefined"!==typeof earlySvgSupport&&"svg"===earlySvgSupport?(g=QRCode.generateSVG(e,{ecclevel:"M",fillcolor:"#FFFFFF",textcolor:"#191919",
margin:4,modulesize:8}),g=(new XMLSerializer).serializeToString(g),g="data:image/svg+xml;base64,"+a.btoa(unescape(encodeURIComponent(g)))):g=QRCode.generatePNG(e,{ecclevel:"M",format:"html",fillcolor:"#FFFFFF",textcolor:"#191919",margin:4,modulesize:8}));f.src=g;f.classList.add("qr-code-img");f.title=b;removeChildren(c);appendFragment(f,c)},manageLocationQrCodeImage=function(){var a=globalRoot,b=BALA.one(".btn-toggle-holder-location-qr-code")||"",c=BALA.one(".page")||"",e=BALA.one(".holder-location-qr-code")||
"",f=a.location.href||"",g=function(){c.classList.contains("is-active-holder-vk-like")&&c.classList.remove("is-active-holder-vk-like");c.classList.contains("is-active-holder-share-buttons")&&c.classList.remove("is-active-holder-share-buttons");c.classList.contains("is-active-ui-sidepanel")&&c.classList.remove("is-active-ui-sidepanel");c.classList.contains("is-active-ui-menumore")&&c.classList.remove("is-active-ui-menumore")},h=function(a){a.stopPropagation();a.preventDefault();c.classList.toggle("is-active-holder-location-qr-code");
g()},l=function(){c.classList.contains("is-active-holder-location-qr-code")&&c.classList.remove("is-active-holder-location-qr-code")},k=function(){l();g()};b&&c&&e&&f&&"undefined"!==typeof getHTTP&&getHTTP()&&(l(),b.addEventListener("click",generateLocationQrCodeImg),b.addEventListener("click",h),a.addEventListener("hashchange",generateLocationQrCodeImg),e.addEventListener("click",k))},loadManageLocationQrCodeImg=function(){scriptIsLoaded("../cdn/qrjs2/0.1.3/js/qrjs2.fixed.min.js")?manageLocationQrCodeImage():
loadJS("../cdn/qrjs2/0.1.3/js/qrjs2.fixed.min.js",manageLocationQrCodeImage)};document.ready().then(loadManageLocationQrCodeImg);
var manageShareButton=function(){var a=BALA.one(".btn-toggle-holder-share-buttons")||"",b=BALA.one(".page")||"";a&&b&&a.addEventListener("click",function(a){a.stopPropagation();a.preventDefault();b.classList.toggle("is-active-holder-share-buttons");b.classList.contains("is-active-holder-location-qr-code")&&b.classList.remove("is-active-holder-location-qr-code");b.classList.contains("is-active-holder-vk-like")&&b.classList.remove("is-active-holder-vk-like");b.classList.contains("is-active-ui-sidepanel")&&
b.classList.remove("is-active-ui-sidepanel");b.classList.contains("is-active-ui-menumore")&&b.classList.remove("is-active-ui-menumore");a=getHTTP(!0)+"://yastatic.net/es5-shims/0.0.2/es5-shims.min.js";var e=getHTTP(!0)+"://yastatic.net/share2/share.js";b.classList.contains("is-active-holder-share-buttons")&&(scriptIsLoaded(a)||loadJS(a,function(){scriptIsLoaded(e)||loadJS(e)}))})};document.ready().then(manageShareButton);
var manageVKLikeButton=function(){var a=globalRoot,b=BALA.one(".btn-toggle-holder-vk-like")||"",c=BALA.one(".page")||"",e=BALA.one("#vk-like")||"";b&&c&&e&&b.addEventListener("click",function(b){b.stopPropagation();b.preventDefault();c.classList.toggle("is-active-holder-vk-like");c.classList.contains("is-active-holder-location-qr-code")&&c.classList.remove("is-active-holder-location-qr-code");c.classList.contains("is-active-holder-share-buttons")&&c.classList.remove("is-active-holder-share-buttons");
c.classList.contains("is-active-ui-sidepanel")&&c.classList.remove("is-active-ui-sidepanel");c.classList.contains("is-active-ui-menumore")&&c.classList.remove("is-active-ui-menumore");b=getHTTP(!0)+"://vk.com/js/api/openapi.js?122";var g=function(){a.VK&&(VK.init({apiId:e.dataset.apiid||"",nameTransportPath:"/xd_receiver.htm",onlyWidgets:!0}),VK.Widgets.Like("vk-like",{type:"button",height:24}))};c.classList.contains("is-active-holder-vk-like")&&(scriptIsLoaded(b)||loadJS(b,g))})};document.ready().then(manageVKLikeButton);
var loadRefreshDisqus=function(){var a=globalRoot,b=BALA.one("#disqus_thread")||"",c=BALA.one(".btn-show-disqus")||"",e=a.location.href||"",f=b?b.dataset.shortname||"":"",a=getHTTP(!0)+"://"+f+".disqus.com/embed.js",g=function(){b.classList.add("is-active");setStyleDisplayNone(c);LoadingSpinner.hide()},h=function(){try{DISQUS.reset({reload:!0,config:function(){this.page.identifier=f;this.page.url=e}}),g()}catch(a){setStyleDisplayBlock(c)}},l=function(){removeChildren(b);var a=d.createRange().createContextualFragment("<p>Комментарии доступны только в веб версии этой страницы.</p>");
appendFragment(a,b);b.removeAttribute("id");setStyleDisplayNone(c.parentNode)};b&&c&&f&&e&&("undefined"!==typeof getHTTP&&getHTTP()?(LoadingSpinner.show(),scriptIsLoaded(a)?h():loadJS(a,g)):l())},manageDisqusButton=function(){var a=BALA.one("#disqus_thread")||"",b=a?BALA.one(".btn-show-disqus")||"":"",c=function(a){a.stopPropagation();a.preventDefault();b.removeEventListener("click",c);loadRefreshDisqus()};a&&b&&b.addEventListener("click",c)},myMap,initYandexMap=function(a){var b=BALA.one(a)||"",
c=b?b.dataset.center||"":"",e=b?b.dataset.zoom||"":"",f=b?BALA.one(b.dataset.btnShow)||"":"",g=b?BALA.one(b.dataset.btnDestroy)||"":"";a=getHTTP(!0)+"://api-maps.yandex.ru/2.1/?lang=ru_RU";var h=function(){myMap&&myMap.destroy();try{myMap=new ymaps.Map(b.id,{center:JSON.parse(c),zoom:e})}catch(a){setStyleDisplayBlock(f)}},l=function(){try{ymaps.ready(h),b.parentNode.classList.add("is-active"),setStyleDisplayNone(f),LoadingSpinner.hide()}catch(a){setStyleDisplayBlock(f)}},k=function(){removeChildren(b);
var a=d.createRange().createContextualFragment("<p>Карты доступны только в веб версии этой страницы.</p>");appendFragment(a,b);b.removeAttribute("id");setStyleDisplayNone(f.parentNode)},m=function(a){a.stopPropagation();a.preventDefault();g.removeEventListener("click",m);myMap&&myMap.destroy()};b&&c&&e&&f&&("undefined"!==typeof getHTTP&&getHTTP()?(g&&g.addEventListener("click",m),LoadingSpinner.show(),scriptIsLoaded(a)?l():loadJS(a,l)):k())},manageYandexMapButton=function(a){var b=BALA.one(a)||"",
c=b?BALA.one(b.dataset.btnShow)||"":"",e=function(b){b.stopPropagation();b.preventDefault();c.removeEventListener("click",e);initYandexMap(a);return!1};b&&c&&c.addEventListener("click",e)},initKamilAutocomplete=function(){var a=document,b=BALA.one(".search-form")||"",c=BALA.one("#text")||"",e=a.getElementById("container")||"",f=function(b){if(b=safelyParseJSON(b)){b=new Kamil("#text",{source:b,property:"label",minChars:2});var f=a.createElement("ul"),l=a.createElement("li"),k=function(){setStyleDisplayNone(f);
setStyleDisplayNone(l)};f.classList.add("kamil-autocomplete");f.id="kamil-typo-autocomplete";k();f.appendChild(l);c.parentNode.insertBefore(f,c.nextElementSibling);b.renderMenu=function(b,e){e=e||"";var g=e.length;if(e)for(var p=0;p<g;p+=1)10>p&&this._renderItemData(b,e[p],p);for(;1>g;)p=c.value,p=/[^\u0000-\u007f]/.test(p)?fixEnRuTypo(p,"ru","en"):fixEnRuTypo(p,"en","ru"),setStyleDisplayBlock(f),setStyleDisplayBlock(l),removeChildren(l),l.appendChild(a.createTextNode(""+p)),p.match(/^\s*$/)&&k(),
(3>c.value.length||c.value.match(/^\s*$/))&&k(),g+=1;if(g=BALA("li",b)||"")for(var p=0,u=g.length;p<u;p+=1){var q=g[p],t=q.firstChild.textContent||"",v=a.createTextNode(truncString(t,24));q.replaceChild(v,q.firstChild);q.title=""+t}};l.addEventListener("click",function(a){a.stopPropagation();a.preventDefault();c.focus();c.value=l.firstChild.textContent||"";setStyleDisplayNone(f)});e&&e.addEventListener("click",k);b.on("kamilselect",function(a){var b=a.item.link||"";b&&(a.inputElement.value="",k(),
changeLocation(b))})}};b&&c&&loadUnparsedJSON("../libs/contents/json/contents.json",f)},loadInitKamilAutocomplete=function(){scriptIsLoaded("../cdn/kamil/0.1.1/js/kamil.fixed.min.js")||loadJS("../cdn/kamil/0.1.1/js/kamil.fixed.min.js",initKamilAutocomplete)};document.ready().then(loadInitKamilAutocomplete);
var initUiTotop=function(){var a=globalRoot,b=document,c=b.documentElement||"",e=b.body||"",f=function(a){throttle(function(){var f=b.querySelector(".ui-totop")||"",l=a.pageYOffset||c.scrollTop||e.scrollTop||"",k=a.innerHeight||c.clientHeight||e.clientHeight||"";l&&k&&f&&(l>k?f.classList.add("is-active"):f.classList.remove("is-active"))},100)()};e&&function(){var c=b.createElement("a");c.classList.add("ui-totop");c.href="javascript:void(0);";c.title="Наверх";c.addEventListener("click",function(a){a.stopPropagation();
a.preventDefault();scroll2Top(0,2E4)});(function(a){var c=b.createElementNS("http://www.w3.org/2000/svg","svg"),e=b.createElementNS("http://www.w3.org/2000/svg","use");c.classList.add("ui-icon");e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#ui-icon-Up");c.appendChild(e);a.appendChild(c)})(c);e.appendChild(c);a.addEventListener("scroll",f)}()};document.ready().then(initUiTotop);
var initRoutie=function(){var a=BALA.one("#app-content")||"",b=a.parentNode||"",c=function(a,b,c){a&&b&&(LoadingSpinner.show(),insertExternalHTML(a,b,c))},e=function(a){a=a||"";var c=document;LoadingSpinner.hide(scroll2Top.bind(null,0,2E4));c.title=initialDocumentTitle+""+a+userBrowsingDetails;manageYandexMapButton("#ymap");manageDisqusButton(b);manageExternalLinks(b);manageDataTargetLinks(b);manageImgLightboxLinks(b);manageDataSrcImages(b);loadManageDataQrcodeImg(b);manageChaptersSelect(b);manageExpandingLayers(b)};
a&&routie({"":function(){c("#app-content","./includes/home.html",function(){e(" - Начало")})},"/home":function(){c("#app-content","./includes/home.html",function(){e(" - Начало")})},"/schedule":function(){"undefined"!==typeof getHTTP&&getHTTP()&&c("#app-content","./includes/schedule.html",function(){e(" - Расписание")})},"/map":function(){"undefined"!==typeof getHTTP&&getHTTP()&&c("#app-content","./includes/map.html",function(){e(" - Карта")})},"/level_test":function(){c("#app-content","./includes/level_test.html",
function(){e(" - Уровневый тест")})},"/common_mistakes":function(){c("#app-content","./includes/common_mistakes.html",function(){e(" - Распространенные ошибки")})},"/demo_ege":function(){c("#app-content","./includes/demo_ege.html",function(){e(" - Демо-вариант ЕГЭ-11 АЯ (ПЧ)")})},"/demo_ege_speaking":function(){c("#app-content","./includes/demo_ege_speaking.html",function(){e(" - Демо-вариант ЕГЭ-11 АЯ (УЧ)")})},"/previous_ege_analysis":function(){c("#app-content","./includes/previous_ege_analysis.html",
function(){e(" - ЕГЭ: разбор ошибок")})},"/*":function(){var a=document,b=BALA.one("#app-content")||"",a=a.createRange().createContextualFragment('<div class="col"><div class="row"><div class="column"><p>Нет такой страницы. <a href="#/home">Исправить?</a></p></div></div></div>');b&&(LoadingSpinner.show(),removeChildren(b),appendFragment(a,b),e(" - Нет такой страницы"))}})};document.ready().then(initRoutie);
var loadInitManUp=function(){var a=function(){};"undefined"!==typeof getHTTP&&getHTTP()&&!scriptIsLoaded("/cdn/ManUp.js/0.7/js/manup.fixed.min.js")&&loadJS("/cdn/ManUp.js/0.7/js/manup.fixed.min.js",a)};document.ready().then(loadInitManUp);
var showPageFinishProgress=function(){var a=BALA.one("#page")||"",b=function(){var b=new Timers;b.interval(function(){"undefined"!==typeof imagesPreloaded&&imagesPreloaded&&(b.clear(),b=null,setStyleOpacity(a,1),progressBar.complete())},100)};a&&("undefined"!==typeof imagesPreloaded?b():(setStyleOpacity(a,1),progressBar.complete()))};document.ready().then(showPageFinishProgress);
//# sourceMappingURL=bundle.min.js.map
