(function(b){b.console||(b.console={});b=b.console;for(var a,g=function(){},h=["memory"],d="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");a=h.pop();)b[a]||(b[a]={});for(;a=d.pop();)b[a]||(b[a]=g);a=a=g=h=d=null})("undefined"!==typeof window?window:this);
(function(b,a,g){var h=function(){var d=function(){function b(f,c){this.progress=0;this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2};if(f&&"object"===typeof f)for(var d in f)f.hasOwnProperty(d)&&(this.options[d]=f[d]);this.options.opacityDuration=3*this.options.duration;this.progressBar=a.createElement("div");this.progressBar.id=this.options.id;this.progressBar.setCSS=function(a){for(var c in a)a.hasOwnProperty(c)&&(this.style[c]=a[c])};this.progressBar.setCSS({position:c?
"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"});if(c){var e;-1!==c.indexOf("#",0)?e=a.getElementById(c)||"":-1!==c.indexOf(".",0)&&(e=a.getElementsByClassName(c)[0]||
"");e&&(e.hasChildNodes()?e.insertBefore(this.progressBar,e.firstChild):e.appendChild(this.progressBar))}else a.body.appendChild(this.progressBar)}var e=function(){var f,c=a.createElement("fakeelement"),d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(f in d)if(d.hasOwnProperty(f)&&c.style[f]!==g)return d[f]}();b.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"};b.prototype.getProgress=function(){return this.progress};
b.prototype.setProgress=function(a,c){this.show();this.progress=100<a?100:0>a?0:a;this.transit();c&&c()};b.prototype.increase=function(a,c){this.show();this.setProgress(this.progress+a,c)};b.prototype.decrease=function(a,c){this.show();this.setProgress(this.progress-a,c)};b.prototype.finish=function(a){var c=this;this.setProgress(100,a);this.hide();e&&this.progressBar.addEventListener(e,function(a){c.reset();c.progressBar.removeEventListener(a.type,d)})};b.prototype.reset=function(a){this.progress=
0;this.transit();a&&a()};b.prototype.hide=function(){this.progressBar.style.opacity="0"};b.prototype.show=function(){this.progressBar.style.opacity="1"};return b};return d()}();b.ToProgress=h})("undefined"!==typeof window?window:this,document);
(function(b,a){var g=function(b){var d=b.container instanceof Node?b.container:a.getElementById(b.container)||a.getElementsByClassName(b.container)[0]||"",g=b.item instanceof NodeList?b.item:d.getElementsByClassName(b.item)||"",d={container:d,nodeList:g},e;for(e in d)d.hasOwnProperty(e)&&(b[e]=d[e]);this.props=b};g.prototype.mount=function(){if(!this.props.container||!this.props.nodeList||0===this.props.nodeList.length)return!1;var a="number"===typeof this.props.gutter&&isFinite(this.props.gutter)&&
Math.floor(this.props.gutter)===this.props.gutter?this.props.gutter:0,b=this.props.done,g=this.props.container,e=this.props.nodeList;g.style.width="";var f=Array.prototype.forEach,c=g.getBoundingClientRect().width,q=e[0].getBoundingClientRect().width+a,c=Math.max(Math.floor((c-a)/q),1);g.style.width=q*c+a+"px";g.style.position="relative";for(var m=[],r=[],l=0;l<c;++l)r.push(l*q+a),m.push(a);this.props.rtl&&r.reverse();f.call(e,function(c){var b=m.slice(0).sort(function(a,c){return a-c}).shift(),b=
m.indexOf(b),d=parseInt(r[b]),f=parseInt(m[b]);c.style.position="absolute";c.style.webkitBackfaceVisibility=c.style.backfaceVisibility="hidden";c.style.transformStyle="preserve-3d";c.style.transform="translate3D("+d+"px,"+f+"px, 0)";m[b]+=c.getBoundingClientRect().height+a});g.style.display="";f=m.slice(0).sort(function(a,c){return a-c}).pop();g.style.height=f+"px";"function"===typeof b&&b(e)};b.Minigrid=g})("undefined"!==typeof window?window:this,document);
(function(b){function a(a,b){for(var c=b.split(".");c.length;){if(!(c[0]in a))return!1;a=a[c.shift()]}return a}function g(b,f){return b.replace(h,function(c,b,d,e,l,h,p,k){e=a(f,e);var v="",u;if(!e)return"!"===d?g(l,f):p?g(k,f):"";if(!d)return g(h,f);if("@"===d){c=f._key;b=f._val;for(u in e)e.hasOwnProperty(u)&&(f._key=u,f._val=e[u],v+=g(l,f));f._key=c;f._val=b;return v}}).replace(d,function(c,b,d){return(c=a(f,d))||0===c?"%"===b?(new Option(c)).text.replace(/"/g,"&quot;"):c:""})}var h=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,
d=/\{\{([=%])(.+?)\}\}/g,k=function(a){this.t=a};k.prototype.render=function(a){return g(this.t,a)};b.t=k})("undefined"!==typeof window?window:this);
(function(b,a){b.echo=function(g,h,d){g=g||"data-src-img";h=h||"src";d=d||100;var k=function(a){this.elem=a;this.render();this.listen()},e=a.documentElement.classList.contains("is-binded-echo")||"",f=[],c=function(){for(var c=0;c<f.length;c++){var d=f[c],e=d.getBoundingClientRect();if((0<=e.top&&0<=e.left&&e.top)<=(b.innerHeight||a.documentElement.clientHeight)){var e=d,g=c;-1!==f.indexOf(d)&&f.splice(g,1);e.src=e.dataset[h]||e.getAttribute("data-"+h)}}},q=function(a,c){function b(){g=0;h=+new Date;
e=a.apply(d,f);f=d=null}var d,f,e,g,h=0;return function(){d=this;f=arguments;var a=new Date-h;g||(a>=c?b():g=setTimeout(b,c-a));return e}}(c,d),m=function(){var a=!1;try{var c=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});b.addEventListener("test",function(){},c)}catch(d){}return a}();k.prototype={init:function(){f.push(this.elem)},render:function(){c()},listen:function(){e||(b.addEventListener("scroll",q,m?{passive:!0}:!1),a.documentElement.classList.add("is-binded-echo"))}};
var r=a.getElementsByClassName(g)||"";r&&function(){for(var a=0;a<r.length;a++)(new k(r[a])).init()}()}})("undefined"!==typeof window?window:this,document);(function(b,a){b.doesFontExist=function(b){var h=a.createElement("canvas").getContext("2d");h.font="72px monospace";var d=h.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width;h.font="72px '"+b+"', monospace";return h.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width==d?!1:!0}})("undefined"!==typeof window?window:this,document);
(function(b,a){b.loadJsCss=function(b,h){var d=this;d.files=b;d.js=[];d.head=a.getElementsByTagName("head")[0]||"";d.body=a.body||"";d.ref=a.getElementsByTagName("script")[0]||"";d.callback=h||function(){};d.loadStyle=function(b){var c=a.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=b;d.head.appendChild(c)};d.loadScript=function(b){var c=a.createElement("script");c.type="text/javascript";c.async=!0;c.src=d.js[b];c.onload=function(){++b<d.js.length?d.loadScript(b):d.callback()};
d.head.appendChild(c);d.ref.parentNode?d.ref.parentNode.insertBefore(c,d.ref):(d.body||d.head).appendChild(c)};var k,e;k=0;for(e=d.files.length;k<e;k+=1)/\.js$|\.js\?/.test(d.files[k])&&d.js.push(d.files[k]),/\.css$|\.css\?|\/css\?/.test(d.files[k])&&d.loadStyle(d.files[k]);k=e=null;0<d.js.length?d.loadScript(0):d.callback()}})("undefined"!==typeof window?window:this,document);
(function(b,a){var g=new ToProgress({id:"top-progress-bar",color:"#FF2C40",height:"0.200rem",duration:.2});g.increase(20);var h="ontouchstart"in a.documentElement||"",d="onwheel"in a.createElement("div")||void 0!==a.onmousewheel||"",k=function(){var c=a.documentElement||"";c&&c.classList&&(c.classList.remove("no-js"),c.classList.add("js"));g.increase(20);var d="ontouchstart"in a.documentElement||"",e="onwheel"in a.createElement("div")||void 0!==a.onmousewheel||"",h=a.title||"",l=navigator.userAgent||
"",k=function(){var a=new Date,b=a.getDate(),c=a.getFullYear(),a=a.getMonth(),a=a+1;10>b&&(b="0"+b);10>a&&(a="0"+a);return c+"-"+a+"-"+b}(),p="";l&&b.platform&&(p=platform.description||"",a.title=h+" ["+(k?" "+k:"")+(p?" "+p:"")+(d||e?" with":"")+(d?" touch":"")+(d&&e?",":"")+(e?" mousewheel":"")+"]");var C=a.getElementsByClassName("card-grid")[0]||"",v=function(b,c,d){c=a.getElementById(c)||"";d=a.getElementById(d)||"";return(b=-1!==["boolean","number","string","symbol","function"].indexOf(typeof b)?
JSON.parse(b):b)&&c&&d?(new t(c.innerHTML||"")).render(b):{}},u=function(b,c,d){var e=a.body||"",f=function(){return d&&"function"===typeof d&&d()};try{var g=c.cloneNode(!1);if(a.createRange){var h=a.createRange();h.selectNode(e);var k=h.createContextualFragment(b);g.appendChild(k);return c.parentNode?c.parentNode.replaceChild(g,c):c.innerHTML=b,f()}g.innerHTML=b;return c.parentNode?c.parentNode.replaceChild(a.createDocumentFragment.appendChild(g),c):c.innerHTML=b,f()}catch(l){console.log(l)}},N=
function(b,c,d,e,f){f=f||"";var g=a.getElementById(c)||"",h=a.getElementById(d)||"",k=function(){return e&&"function"===typeof e&&e()};b&&g&&h&&(b=v(b,c,d),f?(h.innerHTML=b,k()):u(b,h,k))},O=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&++b;return b},P=function(b){return new Promise(function(c,d){var e;try{if(e=JSON.parse(b),e.pages[0].href)if(e.pages[0].src)if(e.pages[0].width)if(e.pages[0].height){if(!e.pages[0].title)throw Error("incomplete JSON data: no title");if(!e.pages[0].text)throw Error("incomplete JSON data: no text");
}else throw Error("incomplete JSON data: no height");else throw Error("incomplete JSON data: no width");else throw Error("incomplete JSON data: no src");else throw Error("incomplete JSON data: no href");}catch(f){console.log("cannot init generateCardGrid",f);return}var g=O(e.pages);N(e,"template_card_grid","target_card_grid",function(){g===a.getElementsByClassName("card-wrap").length?c():d()},!0)})},w,Q=function(){clearTimeout(w);w=null;var c;c=new Minigrid({container:"card-grid",item:"card-wrap",
gutter:20,done:function(){C.style.visibility="visible";C.style.opacity=1}});c.mount();b.addEventListener("resize",function(){c.mount()},{passive:!0});var d=function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},e=a.documentElement.style,f="string"==typeof e.transition?"transition":"WebkitTransition",g="string"==typeof e.transform?"transform":"WebkitTransform";if(e=a.styleSheets[0]||"")d=d([".card-wrap{",f,": ",g," 0.4s ease-out;}"].join("")),e.insertRule(d,0)},x,R=function(){clearTimeout(x);
x=null;echo("data-src-img","src")},l=new Headers;fetch("./libs/contents-cards/json/contents.json",{headers:l,credentials:"same-origin"}).then(function(a){if(a.ok)return a.text();throw Error("cannot fetch","./libs/contents-cards/json/contents.json");}).then(function(a){P(a).then(function(a){return a}).then(function(a){w=setTimeout(Q,200)}).then(function(a){x=setTimeout(R,200)})["catch"](function(a){console.log("Cannot create card grid",a)})})["catch"](function(a){console.log("cannot parse","./libs/contents-cards/json/contents.json")});
var D=b.location.href||"",E=function(b){var c,d,e;c=a.getElementsByTagName("script")||"";d=0;for(e=c.length;d<e;d+=1)if(c[d].getAttribute("src")===b)return!0;return!1},y=function(c){c=c||this;var b=a.getElementsByClassName("is-social")||"";if(b){var d,e;d=0;for(e=b.length;d<e;d+=1)c!==b[d]&&b[d].classList.remove("is-active")}};b.addEventListener("click",y);var F=function(a,b,c){function d(){var l=Date.now()-h;l<b&&0<=l?e=setTimeout(d,b-l):(e=null,c||(k=a.apply(g,f),g=f=null))}var e,f,g,h,k;if(void 0===
b||null===b)b=100;var l=function(){g=this;f=arguments;h=Date.now();var l=c&&!e;e||(e=setTimeout(d,b));l&&(k=a.apply(g,f),g=f=null);return k};l.clear=function(){e&&(clearTimeout(e),e=null)};l.flush=function(){e&&(k=a.apply(g,f),g=f=null,clearTimeout(e),e=null)};return l},z=a.getElementById("ya-share2")||"",k=(l=a.getElementsByClassName("btn-share")[0]||"")?l.getElementsByTagName("a")[0]||"":"",A,p=function(a){a.preventDefault();a.stopPropagation();F(function(){z.classList.toggle("is-active");y(z);
var a=function(){if(b.Ya)try{A?A.updateContent({title:h,description:h,url:D}):A=Ya.share2("ya-share2",{content:{title:h,description:h,url:D}})}catch(a){console.log("cannot update or init Ya",a)}},c=f+"://yastatic.net/share2/share.js";E(c)?a():new loadJsCss([c],a)},200)()};l&&k&&z&&k.addEventListener("click",p);var G=a.getElementsByClassName("vk-like")[0]||"",H=a.getElementsByClassName("holder-vk-like")[0]||"",k=(l=a.getElementsByClassName("btn-like")[0]||"")?l.getElementsByTagName("a")[0]||"":"",
I,p=function(a){a.preventDefault();a.stopPropagation();F(function(){H.classList.toggle("is-active");y(H);var a=function(){if(b.VK&&!I)try{VK.init({apiId:G.dataset.apiid||"",nameTransportPath:"/xd_receiver.htm",onlyWidgets:!0}),VK.Widgets.Like("vk-like",{type:"button",height:24}),I=!0}catch(a){console.log("cannot init VK",a)}},c=f+"://vk.com/js/api/openapi.js?147";E(c)?a():new loadJsCss([c],a)},200)()};l&&k&&G&&k.addEventListener("click",p);var B=function(a,c){function b(){g=0;h=+new Date;f=a.apply(d,
e);e=d=null}var d,e,f,g,h=0;return function(){d=this;e=arguments;var a=new Date-h;g||(a>=c?b():g=setTimeout(b,c-a));return f}},n=a.getElementsByClassName("title-bar")[0]||"",J=n.offsetHeight||0,l=a.getElementsByClassName("wrapper")[0]||"",K=function(){B(function(){(a.body.scrollTop||a.documentElement.scrollTop||0)>J?n.classList.add("is-hidden"):(n.classList.remove("is-fixed"),n.classList.remove("is-hidden"))},100)()},L=function(){B(function(){n.classList.remove("is-hidden");(a.body.scrollTop||a.documentElement.scrollTop||
0)>J?n.classList.add("is-fixed"):n.classList.remove("is-fixed")},100)()};l&&n&&(d?b.tocca&&(b.addEventListener("swipeup",K,{passive:!0}),b.addEventListener("swipedown",L,{passive:!0})):e&&b.WheelIndicator&&new WheelIndicator({elem:l,callback:function(a){"down"===a.direction&&K();"up"===a.direction&&L()},preventMouse:!1}));var S=function(c,d,e){function f(){l+=1/60;var a=l/q,c=m[k](a);1>a?(requestAnimationFrame(f),b.scrollTo(0,g+(h-g)*c)):b.scrollTo(0,h)}var g=b.scrollY||a.documentElement.scrollTop,
h=c||0,k=e||"easeOutSine",l=0,q=Math.max(.1,Math.min(Math.abs(g-h)/(d||2E3),.8)),m={easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}};f()},M=a.body||"",d=a.getElementsByClassName("btn-totop")[0]||"",e=function(a){a.stopPropagation();a.preventDefault();S(0,2E4);n&&n.classList.remove("is-hidden")},l=function(b){B(function(){var d=a.getElementsByClassName("btn-totop")[0]||
"",e=b.pageYOffset||c.scrollTop||M.scrollTop||"",f=b.innerHeight||c.clientHeight||M.clientHeight||"";e&&f&&d&&(e>f?d.classList.add("is-active"):d.classList.remove("is-active"))},100)()};d&&(d.addEventListener("click",e),b.addEventListener("scroll",l,{passive:!0}));g.finish();g.hide()},e=["./libs/contents-cards/css/bundle.min.css"],f=function(a){var d=b.location.protocol||"";return"http:"===d?"http":"https:"===d?"https":a?"http":""}(!0);"classList"in a.createElement("_")||e.push(f+"://cdn.jsdelivr.net/npm/classlist.js@1.1.20150312/classList.min.js");
"undefined"!==typeof b.Element&&"dataset"in a.documentElement||e.push(f+"://cdn.jsdelivr.net/npm/element-dataset@2.2.6/lib/browser/index.cjs.min.js");(function(){var a=!1;try{var d=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});b[addEventListener]("test",function(){},d)}catch(e){}return a})()||e.push(f+"://cdn.jsdelivr.net/npm/dom4@1.8.5/build/dom4.max.min.js");b.Promise||e.push(f+"://cdn.jsdelivr.net/es6-promise-polyfill/1.2.0/promise.min.js");b.fetch||e.push(f+
"://cdn.jsdelivr.net/fetch/2.0.1/fetch.min.js");e.push(f+"://cdn.jsdelivr.net/npm/platform@1.3.4/platform.min.js");h?e.push(f+"://cdnjs.cloudflare.com/ajax/libs/Tocca.js/2.0.1/Tocca.min.js"):d&&e.push("./cdn/wheel-indicator/1.1.4/js/wheel-indicator.fixed.min.js");new loadJsCss([f+"://fonts.googleapis.com/css?family=Roboto:400,700&subset=cyrillic"],function(){var b,d=function(){clearInterval(b);b=null;g.increase(20);new loadJsCss(e,k)},f=function(){doesFontExist("Roboto")&&d()};(function(){var b=a.createElement("canvas");
return!(!b.getContext||!b.getContext("2d"))})()?b=setInterval(f,100):(b=null,d())})})("undefined"!==typeof window?window:this,document);
//# sourceMappingURL=bundle.min.js.map
